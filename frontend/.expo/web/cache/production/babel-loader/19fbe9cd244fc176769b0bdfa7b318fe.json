{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React,{useCallback,useState,useRef,useEffect,useMemo,memo,Fragment}from'react';import View from\"react-native-web/dist/exports/View\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Text from\"react-native-web/dist/exports/Text\";import Image from\"react-native-web/dist/exports/Image\";import FlatList from\"react-native-web/dist/exports/FlatList\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Modal from\"react-native-web/dist/exports/Modal\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import BackHandler from\"react-native-web/dist/exports/BackHandler\";import Platform from\"react-native-web/dist/exports/Platform\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";var _Dimensions$get=Dimensions.get('window'),WINDOW_HEIGHT=_Dimensions$get.height;import Colors from\"../constants/colors\";import{SCHEMA,GET_TRANSLATION,BADGE_COLORS,BADGE_DOT_COLORS,ASCII_CODE,TRANSLATIONS,MODE,LIST_MODE,DROPDOWN_DIRECTION,GET_DROPDOWN_DIRECTION,LANGUAGE,RTL_DIRECTION,RTL_STYLE}from\"../constants\";import THEMES from\"../themes\";import RenderBadgeItem from\"./RenderBadgeItem\";import RenderListItem from\"./RenderListItem\";import ListEmpty from\"./ListEmpty\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Picker(_ref){var _ref$value=_ref.value,value=_ref$value===void 0?null:_ref$value,_ref$items=_ref.items,items=_ref$items===void 0?[]:_ref$items,open=_ref.open,_ref$placeholder=_ref.placeholder,placeholder=_ref$placeholder===void 0?null:_ref$placeholder,_ref$closeAfterSelect=_ref.closeAfterSelecting,closeAfterSelecting=_ref$closeAfterSelect===void 0?true:_ref$closeAfterSelect,_ref$labelProps=_ref.labelProps,labelProps=_ref$labelProps===void 0?{}:_ref$labelProps,_ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,_ref$disabledStyle=_ref.disabledStyle,disabledStyle=_ref$disabledStyle===void 0?{}:_ref$disabledStyle,_ref$placeholderStyle=_ref.placeholderStyle,placeholderStyle=_ref$placeholderStyle===void 0?{}:_ref$placeholderStyle,_ref$containerStyle=_ref.containerStyle,containerStyle=_ref$containerStyle===void 0?{}:_ref$containerStyle,_ref$style=_ref.style,style=_ref$style===void 0?{}:_ref$style,_ref$textStyle=_ref.textStyle,textStyle=_ref$textStyle===void 0?{}:_ref$textStyle,_ref$labelStyle=_ref.labelStyle,labelStyle=_ref$labelStyle===void 0?{}:_ref$labelStyle,_ref$arrowIconStyle=_ref.arrowIconStyle,arrowIconStyle=_ref$arrowIconStyle===void 0?{}:_ref$arrowIconStyle,_ref$tickIconStyle=_ref.tickIconStyle,tickIconStyle=_ref$tickIconStyle===void 0?{}:_ref$tickIconStyle,_ref$closeIconStyle=_ref.closeIconStyle,closeIconStyle=_ref$closeIconStyle===void 0?{}:_ref$closeIconStyle,_ref$badgeStyle=_ref.badgeStyle,badgeStyle=_ref$badgeStyle===void 0?{}:_ref$badgeStyle,_ref$badgeTextStyle=_ref.badgeTextStyle,badgeTextStyle=_ref$badgeTextStyle===void 0?{}:_ref$badgeTextStyle,_ref$badgeDotStyle=_ref.badgeDotStyle,badgeDotStyle=_ref$badgeDotStyle===void 0?{}:_ref$badgeDotStyle,_ref$iconContainerSty=_ref.iconContainerStyle,iconContainerStyle=_ref$iconContainerSty===void 0?{}:_ref$iconContainerSty,_ref$searchContainerS=_ref.searchContainerStyle,searchContainerStyle=_ref$searchContainerS===void 0?{}:_ref$searchContainerS,_ref$searchTextInputS=_ref.searchTextInputStyle,searchTextInputStyle=_ref$searchTextInputS===void 0?{}:_ref$searchTextInputS,_ref$searchPlaceholde=_ref.searchPlaceholderTextColor,searchPlaceholderTextColor=_ref$searchPlaceholde===void 0?Colors.GREY:_ref$searchPlaceholde,_ref$dropDownContaine=_ref.dropDownContainerStyle,dropDownContainerStyle=_ref$dropDownContaine===void 0?{}:_ref$dropDownContaine,_ref$modalContentCont=_ref.modalContentContainerStyle,modalContentContainerStyle=_ref$modalContentCont===void 0?{}:_ref$modalContentCont,_ref$arrowIconContain=_ref.arrowIconContainerStyle,arrowIconContainerStyle=_ref$arrowIconContain===void 0?{}:_ref$arrowIconContain,_ref$closeIconContain=_ref.closeIconContainerStyle,closeIconContainerStyle=_ref$closeIconContain===void 0?{}:_ref$closeIconContain,_ref$tickIconContaine=_ref.tickIconContainerStyle,tickIconContainerStyle=_ref$tickIconContaine===void 0?{}:_ref$tickIconContaine,_ref$listItemContaine=_ref.listItemContainerStyle,listItemContainerStyle=_ref$listItemContaine===void 0?{}:_ref$listItemContaine,_ref$listItemLabelSty=_ref.listItemLabelStyle,listItemLabelStyle=_ref$listItemLabelSty===void 0?{}:_ref$listItemLabelSty,_ref$listChildContain=_ref.listChildContainerStyle,listChildContainerStyle=_ref$listChildContain===void 0?{}:_ref$listChildContain,_ref$listChildLabelSt=_ref.listChildLabelStyle,listChildLabelStyle=_ref$listChildLabelSt===void 0?{}:_ref$listChildLabelSt,_ref$listParentContai=_ref.listParentContainerStyle,listParentContainerStyle=_ref$listParentContai===void 0?{}:_ref$listParentContai,_ref$listParentLabelS=_ref.listParentLabelStyle,listParentLabelStyle=_ref$listParentLabelS===void 0?{}:_ref$listParentLabelS,_ref$selectedItemCont=_ref.selectedItemContainerStyle,selectedItemContainerStyle=_ref$selectedItemCont===void 0?{}:_ref$selectedItemCont,_ref$selectedItemLabe=_ref.selectedItemLabelStyle,selectedItemLabelStyle=_ref$selectedItemLabe===void 0?{}:_ref$selectedItemLabe,_ref$disabledItemCont=_ref.disabledItemContainerStyle,disabledItemContainerStyle=_ref$disabledItemCont===void 0?{}:_ref$disabledItemCont,_ref$disabledItemLabe=_ref.disabledItemLabelStyle,disabledItemLabelStyle=_ref$disabledItemLabe===void 0?{}:_ref$disabledItemLabe,_ref$customItemContai=_ref.customItemContainerStyle,customItemContainerStyle=_ref$customItemContai===void 0?{}:_ref$customItemContai,_ref$customItemLabelS=_ref.customItemLabelStyle,customItemLabelStyle=_ref$customItemLabelS===void 0?{}:_ref$customItemLabelS,_ref$listMessageConta=_ref.listMessageContainerStyle,listMessageContainerStyle=_ref$listMessageConta===void 0?{}:_ref$listMessageConta,_ref$listMessageTextS=_ref.listMessageTextStyle,listMessageTextStyle=_ref$listMessageTextS===void 0?{}:_ref$listMessageTextS,_ref$itemSeparatorSty=_ref.itemSeparatorStyle,itemSeparatorStyle=_ref$itemSeparatorSty===void 0?{}:_ref$itemSeparatorSty,_ref$badgeSeparatorSt=_ref.badgeSeparatorStyle,badgeSeparatorStyle=_ref$badgeSeparatorSt===void 0?{}:_ref$badgeSeparatorSt,_ref$modalTitleStyle=_ref.modalTitleStyle,modalTitleStyle=_ref$modalTitleStyle===void 0?{}:_ref$modalTitleStyle,_ref$listMode=_ref.listMode,listMode=_ref$listMode===void 0?LIST_MODE.DEFAULT:_ref$listMode,_ref$categorySelectab=_ref.categorySelectable,categorySelectable=_ref$categorySelectab===void 0?true:_ref$categorySelectab,_ref$searchable=_ref.searchable,searchable=_ref$searchable===void 0?false:_ref$searchable,_ref$searchPlaceholde2=_ref.searchPlaceholder,searchPlaceholder=_ref$searchPlaceholde2===void 0?null:_ref$searchPlaceholde2,modalTitle=_ref.modalTitle,_ref$schema=_ref.schema,schema=_ref$schema===void 0?{}:_ref$schema,_ref$language=_ref.language,language=_ref$language===void 0?LANGUAGE.DEFAULT:_ref$language,_ref$translation=_ref.translation,translation=_ref$translation===void 0?{}:_ref$translation,_ref$multiple=_ref.multiple,multiple=_ref$multiple===void 0?false:_ref$multiple,_ref$multipleText=_ref.multipleText,multipleText=_ref$multipleText===void 0?null:_ref$multipleText,_ref$mode=_ref.mode,mode=_ref$mode===void 0?MODE.DEFAULT:_ref$mode,_ref$itemKey=_ref.itemKey,itemKey=_ref$itemKey===void 0?null:_ref$itemKey,_ref$maxHeight=_ref.maxHeight,maxHeight=_ref$maxHeight===void 0?200:_ref$maxHeight,_ref$renderBadgeItem=_ref.renderBadgeItem,renderBadgeItem=_ref$renderBadgeItem===void 0?null:_ref$renderBadgeItem,_ref$renderListItem=_ref.renderListItem,renderListItem=_ref$renderListItem===void 0?null:_ref$renderListItem,_ref$itemSeparator=_ref.itemSeparator,itemSeparator=_ref$itemSeparator===void 0?false:_ref$itemSeparator,_ref$bottomOffset=_ref.bottomOffset,bottomOffset=_ref$bottomOffset===void 0?0:_ref$bottomOffset,_ref$badgeColors=_ref.badgeColors,badgeColors=_ref$badgeColors===void 0?BADGE_COLORS:_ref$badgeColors,_ref$badgeDotColors=_ref.badgeDotColors,badgeDotColors=_ref$badgeDotColors===void 0?BADGE_DOT_COLORS:_ref$badgeDotColors,_ref$showArrowIcon=_ref.showArrowIcon,showArrowIcon=_ref$showArrowIcon===void 0?true:_ref$showArrowIcon,_ref$showBadgeDot=_ref.showBadgeDot,showBadgeDot=_ref$showBadgeDot===void 0?true:_ref$showBadgeDot,_ref$showTickIcon=_ref.showTickIcon,showTickIcon=_ref$showTickIcon===void 0?true:_ref$showTickIcon,_ref$stickyHeader=_ref.stickyHeader,stickyHeader=_ref$stickyHeader===void 0?false:_ref$stickyHeader,_ref$autoScroll=_ref.autoScroll,autoScroll=_ref$autoScroll===void 0?false:_ref$autoScroll,_ref$ArrowUpIconCompo=_ref.ArrowUpIconComponent,ArrowUpIconComponent=_ref$ArrowUpIconCompo===void 0?null:_ref$ArrowUpIconCompo,_ref$ArrowDownIconCom=_ref.ArrowDownIconComponent,ArrowDownIconComponent=_ref$ArrowDownIconCom===void 0?null:_ref$ArrowDownIconCom,_ref$TickIconComponen=_ref.TickIconComponent,TickIconComponent=_ref$TickIconComponen===void 0?null:_ref$TickIconComponen,_ref$CloseIconCompone=_ref.CloseIconComponent,CloseIconComponent=_ref$CloseIconCompone===void 0?null:_ref$CloseIconCompone,_ref$ListEmptyCompone=_ref.ListEmptyComponent,ListEmptyComponent=_ref$ListEmptyCompone===void 0?null:_ref$ListEmptyCompone,_ref$ActivityIndicato=_ref.ActivityIndicatorComponent,ActivityIndicatorComponent=_ref$ActivityIndicato===void 0?null:_ref$ActivityIndicato,_ref$activityIndicato=_ref.activityIndicatorSize,activityIndicatorSize=_ref$activityIndicato===void 0?30:_ref$activityIndicato,_ref$activityIndicato2=_ref.activityIndicatorColor,activityIndicatorColor=_ref$activityIndicato2===void 0?Colors.GREY:_ref$activityIndicato2,_ref$props=_ref.props,props=_ref$props===void 0?{}:_ref$props,_ref$itemProps=_ref.itemProps,itemProps=_ref$itemProps===void 0?{}:_ref$itemProps,_ref$modalProps=_ref.modalProps,modalProps=_ref$modalProps===void 0?{}:_ref$modalProps,_ref$flatListProps=_ref.flatListProps,flatListProps=_ref$flatListProps===void 0?{}:_ref$flatListProps,_ref$scrollViewProps=_ref.scrollViewProps,scrollViewProps=_ref$scrollViewProps===void 0?{}:_ref$scrollViewProps,_ref$searchTextInputP=_ref.searchTextInputProps,searchTextInputProps=_ref$searchTextInputP===void 0?{}:_ref$searchTextInputP,_ref$loading=_ref.loading,loading=_ref$loading===void 0?false:_ref$loading,_ref$min=_ref.min,min=_ref$min===void 0?null:_ref$min,_ref$max=_ref.max,max=_ref$max===void 0?null:_ref$max,_ref$addCustomItem=_ref.addCustomItem,addCustomItem=_ref$addCustomItem===void 0?false:_ref$addCustomItem,_ref$setOpen=_ref.setOpen,setOpen=_ref$setOpen===void 0?function(){}:_ref$setOpen,_ref$setItems=_ref.setItems,setItems=_ref$setItems===void 0?function(){}:_ref$setItems,_ref$disableBorderRad=_ref.disableBorderRadius,disableBorderRadius=_ref$disableBorderRad===void 0?true:_ref$disableBorderRad,_ref$containerProps=_ref.containerProps,containerProps=_ref$containerProps===void 0?{}:_ref$containerProps,_ref$onLayout=_ref.onLayout,onLayout=_ref$onLayout===void 0?function(e){}:_ref$onLayout,_ref$onPress=_ref.onPress,onPress=_ref$onPress===void 0?function(open){}:_ref$onPress,_ref$onOpen=_ref.onOpen,onOpen=_ref$onOpen===void 0?function(){}:_ref$onOpen,_ref$onClose=_ref.onClose,onClose=_ref$onClose===void 0?function(){}:_ref$onClose,_ref$setValue=_ref.setValue,setValue=_ref$setValue===void 0?function(callback){}:_ref$setValue,_ref$onChangeValue=_ref.onChangeValue,onChangeValue=_ref$onChangeValue===void 0?function(value){}:_ref$onChangeValue,_ref$onChangeSearchTe=_ref.onChangeSearchText,onChangeSearchText=_ref$onChangeSearchTe===void 0?function(text){}:_ref$onChangeSearchTe,_ref$zIndex=_ref.zIndex,zIndex=_ref$zIndex===void 0?5000:_ref$zIndex,_ref$zIndexInverse=_ref.zIndexInverse,zIndexInverse=_ref$zIndexInverse===void 0?6000:_ref$zIndexInverse,_ref$rtl=_ref.rtl,rtl=_ref$rtl===void 0?false:_ref$rtl,_ref$dropDownDirectio=_ref.dropDownDirection,dropDownDirection=_ref$dropDownDirectio===void 0?DROPDOWN_DIRECTION.DEFAULT:_ref$dropDownDirectio,_ref$disableLocalSear=_ref.disableLocalSearch,disableLocalSearch=_ref$disableLocalSear===void 0?false:_ref$disableLocalSear,_ref$theme=_ref.theme,theme=_ref$theme===void 0?THEMES.DEFAULT:_ref$theme,testID=_ref.testID,_ref$closeOnBackPress=_ref.closeOnBackPressed,closeOnBackPressed=_ref$closeOnBackPress===void 0?false:_ref$closeOnBackPress,_ref$onSelectItem=_ref.onSelectItem,onSelectItem=_ref$onSelectItem===void 0?function(item){}:_ref$onSelectItem;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),necessaryItems=_useState2[0],setNecessaryItems=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchText=_useState4[0],setSearchText=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),pickerHeight=_useState6[0],setPickerHeight=_useState6[1];var _useState7=useState(GET_DROPDOWN_DIRECTION(dropDownDirection)),_useState8=_slicedToArray(_useState7,2),direction=_useState8[0],setDirection=_useState8[1];var badgeFlatListRef=useRef();var pickerRef=useRef(null);var initializationRef=useRef(false);var itemPositionsRef=useRef({});var flatListRef=useRef();var scrollViewRef=useRef();var memoryRef=useRef({value:null,items:[]});var THEME=useMemo(function(){return THEMES[theme].default;},[theme]);var ICON=useMemo(function(){return THEMES[theme].ICONS;},[theme]);var _schema=useMemo(function(){return _objectSpread(_objectSpread({},SCHEMA),schema);},[schema]);useEffect(function(){memoryRef.current.value=multiple?Array.isArray(value)?value:[]:value;var initialSelectedItems=[];var valueNotNull=value!==null&&Array.isArray(value)&&value.length!==0;if(valueNotNull){if(multiple){initialSelectedItems=items.filter(function(item){return value.includes(item[_schema.value]);});}else{initialSelectedItems=items.find(function(item){return item[_schema.value]===value;});}}setNecessaryItems(initialSelectedItems);},[]);useEffect(function(){if(closeOnBackPressed&&open){var backAction=function backAction(){setOpen(false);return true;};var backHandler=BackHandler.addEventListener(\"hardwareBackPress\",backAction);return function(){return backHandler.remove();};}},[open]);useEffect(function(){setNecessaryItems(function(state){return _toConsumableArray(state).map(function(item){var _item=items.find(function(x){return x[_schema.value]===item[_schema.value];});if(_item){return _objectSpread(_objectSpread({},item),_item);}return item;});});},[items]);useEffect(function(){if(multiple){setNecessaryItems(function(state){if(value===null||Array.isArray(value)&&value.length===0)return[];var _state=_toConsumableArray(state).filter(function(item){return value.includes(item[_schema.value]);});var newItems=value.reduce(function(accumulator,currentValue){var index=_state.findIndex(function(item){return item[_schema.value]===currentValue;});if(index===-1){var item=items.find(function(item){return item[_schema.value]===currentValue;});if(item){return[].concat(_toConsumableArray(accumulator),[item]);}return accumulator;}return accumulator;},[]);return[].concat(_toConsumableArray(_state),_toConsumableArray(newItems));});}else{var state=[];if(value!==null){var item=items.find(function(item){return item[_schema.value]===value;});if(item){state.push(item);}}setNecessaryItems(state);}if(initializationRef.current){onChangeValue(value);}else{initializationRef.current=true;}},[value,items]);useEffect(function(){memoryRef.current.value=value;},[value]);useEffect(function(){memoryRef.current.items=necessaryItems;},[necessaryItems]);useEffect(function(){if(open&&autoScroll){scroll();}},[open]);useEffect(function(){setDirection(GET_DROPDOWN_DIRECTION(dropDownDirection));},[dropDownDirection]);useEffect(function(){if(mode===MODE.SIMPLE)badgeFlatListRef.current=null;},[mode]);var onPressClose=useCallback(function(){setOpen(false);setSearchText('');onClose();},[setOpen,onClose]);var onPressOpen=useCallback(function(){setOpen(true);onOpen();},[setOpen,onOpen]);var onPressToggle=useCallback(function(){var isOpen=!open;setOpen(isOpen);setSearchText('');if(isOpen)onOpen();else onClose();return isOpen;},[open,setOpen,onOpen,onClose]);var sortedItems=useMemo(function(){var sortedItems=items.filter(function(item){return item[_schema.parent]===undefined||item[_schema.parent]===null;});var children=items.filter(function(item){return item[_schema.parent]!==undefined&&item[_schema.parent]!==null;});children.forEach(function(child){var index=sortedItems.findIndex(function(item){return item[_schema.parent]===child[_schema.parent]||item[_schema.value]===child[_schema.parent];});if(index>-1){sortedItems.splice(index+1,0,child);}});return sortedItems;},[items,_schema]);var scroll=useCallback(function(){setTimeout(function(){if(scrollViewRef.current||flatListRef.current){var isArray=Array.isArray(memoryRef.current.value);if(memoryRef.current.value===null||isArray&&memoryRef.current.value.length===0)return;var _value2=isArray?memoryRef.current.value[0]:memoryRef.current.value;if(scrollViewRef.current&&itemPositionsRef.current.hasOwnProperty(_value2)){var _scrollViewRef$curren;(_scrollViewRef$curren=scrollViewRef.current)==null?void 0:_scrollViewRef$curren.scrollTo==null?void 0:_scrollViewRef$curren.scrollTo({x:0,y:itemPositionsRef.current[_value2],animated:true});}else{var _flatListRef$current;var index=sortedItems.findIndex(function(item){return item[_schema[\"value\"]]===_value2;});if(index>-1)(_flatListRef$current=flatListRef.current)==null?void 0:_flatListRef$current.scrollToIndex==null?void 0:_flatListRef$current.scrollToIndex({index:index,animated:true});}}},200);},[sortedItems]);var onScrollToIndexFailed=useCallback(function(_ref2){var averageItemLength=_ref2.averageItemLength,index=_ref2.index;flatListRef.current.scrollToOffset==null?void 0:flatListRef.current.scrollToOffset({offset:averageItemLength*index,animated:true});},[]);var stickyHeaderIndices=useMemo(function(){var stickyHeaderIndices=[];if(stickyHeader){var parents=sortedItems.filter(function(item){return item[_schema.parent]===undefined||item[_schema.parent]===null;});parents.forEach(function(parent){var index=sortedItems.findIndex(function(item){return item[_schema.value]===parent[_schema.value];});if(index>-1)stickyHeaderIndices.push(index);});}return stickyHeaderIndices;},[stickyHeader,sortedItems]);var _items=useMemo(function(){if(searchText.length===0){return sortedItems;}else{if(disableLocalSearch)return sortedItems;var values=[];var results=sortedItems.filter(function(item){if(item[_schema.label].toLowerCase().includes(searchText.toLowerCase())){values.push(item[_schema.value]);return true;}return false;});results.forEach(function(item,index){if(item[_schema.parent]===undefined||item[_schema.parent]===null||values.includes(item[_schema.parent]))return;var parent=sortedItems.find(function(x){return x[_schema.value]===item[_schema.parent];});values.push(item[_schema.parent]);results.splice(index,0,parent);});if((results.length===0||results.findIndex(function(item){return item[_schema.label].toLowerCase()===searchText.toLowerCase();})===-1)&&addCustomItem){var _results$push;results.push((_results$push={},_defineProperty(_results$push,_schema.label,searchText),_defineProperty(_results$push,_schema.value,searchText.replace(' ','-')),_defineProperty(_results$push,\"custom\",true),_results$push));}return results;}},[sortedItems,_schema,searchText,addCustomItem]);var _value=useMemo(function(){if(multiple){if(value===null)return[];return _toConsumableArray(new Set(value));}return value;},[value,multiple]);var selectedItems=useMemo(function(){if(!multiple)return[];return necessaryItems.filter(function(item){return _value.includes(item[_schema.value]);});},[necessaryItems,_value,_schema,multiple]);var _language=useMemo(function(){if(TRANSLATIONS.hasOwnProperty(language))return language;return LANGUAGE.FALLBACK;},[language]);var _=useCallback(function(key){return GET_TRANSLATION(key,_language,translation);},[_language,translation]);var _placeholder=useMemo(function(){return placeholder!=null?placeholder:_('PLACEHOLDER');},[placeholder,_]);var _multipleText=useMemo(function(){return multipleText!=null?multipleText:_('SELECTED_ITEMS_COUNT_TEXT');},[multipleText,_]);var _mode=useMemo(function(){try{return mode;}catch(e){return MODE.SIMPLE;}},[mode]);var isNull=useMemo(function(){if(_value===null||Array.isArray(_value)&&_value.length===0)return true;return necessaryItems.length===0;},[necessaryItems,_value]);var getSelectedItem=useCallback(function(){if(multiple)return _value;if(isNull)return null;try{return necessaryItems.find(function(item){return item[_schema.value]===_value;});}catch(e){return null;}},[_value,necessaryItems,isNull,multiple]);var getLabel=useCallback(function(){var fallback=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var item=getSelectedItem();if(multiple)if(item.length>0)return _multipleText.replace('{count}',item.length);else return fallback;try{return item[_schema.label];}catch(e){return fallback;}},[getSelectedItem,multiple,_multipleText,_schema]);var _selectedItemLabel=useMemo(function(){return getLabel(_placeholder);},[getLabel,_placeholder]);var _selectedItemIcon=useCallback(function(){if(multiple)return null;var item=getSelectedItem();try{var _item$_schema$icon;return(_item$_schema$icon=item[_schema.icon])!=null?_item$_schema$icon:null;}catch(e){return null;}},[getSelectedItem,multiple,_schema]);var __onPress=useCallback(function _callee(){var isOpen,_await$Promise,_await$Promise2,y,size;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:isOpen=!open;onPress(isOpen);if(!(isOpen&&dropDownDirection===DROPDOWN_DIRECTION.AUTO)){_context.next=10;break;}_context.next=5;return _regeneratorRuntime.awrap(new Promise(function(resolve){return pickerRef.current.measureInWindow(function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return resolve(args);});}));case 5:_await$Promise=_context.sent;_await$Promise2=_slicedToArray(_await$Promise,2);y=_await$Promise2[1];size=y+maxHeight+pickerHeight+bottomOffset;setDirection(size<WINDOW_HEIGHT?'top':'bottom');case 10:onPressToggle();case 11:case\"end\":return _context.stop();}}},null,null,null,Promise);},[open,onPressToggle,onPress,maxHeight,pickerHeight,bottomOffset,dropDownDirection]);var __onLayout=useCallback(function(e){if(Platform.OS!==\"web\")e.persist();onLayout(e);setPickerHeight(e.nativeEvent.layout.height);},[onLayout]);var pickerNoBorderRadius=useMemo(function(){if(listMode===LIST_MODE.MODAL)return null;if(disableBorderRadius&&open){return direction==='top'?{borderBottomLeftRadius:0,borderBottomRightRadius:0}:{borderTopLeftRadius:0,borderTopRightRadius:0};}return{};},[disableBorderRadius,open,direction,listMode]);var dropDownNoBorderRadius=useMemo(function(){if(listMode===LIST_MODE.MODAL)return null;if(disableBorderRadius&&open){return direction==='top'?{borderTopLeftRadius:0,borderTopRightRadius:0}:{borderBottomLeftRadius:0,borderBottomRightRadius:0};}},[disableBorderRadius,open,direction,listMode]);var _disabledStyle=useMemo(function(){return disabled&&disabledStyle;},[disabled,disabledStyle]);var _zIndex=useMemo(function(){if(open){return direction==='top'?zIndex:zIndexInverse;}return zIndex;},[zIndex,zIndexInverse,direction,open]);var _style=useMemo(function(){return[RTL_DIRECTION(rtl,THEME.style),{zIndex:_zIndex}].concat(_toConsumableArray([style].flat()),[pickerNoBorderRadius]);},[rtl,style,pickerNoBorderRadius,_zIndex,THEME]);var _placeholderStyle=useMemo(function(){return isNull&&placeholderStyle;},[isNull,placeholderStyle]);var _labelStyle=useMemo(function(){return[THEME.label].concat(_toConsumableArray([textStyle].flat()),_toConsumableArray([!isNull&&labelStyle].flat()),_toConsumableArray([_placeholderStyle].flat()));},[textStyle,_placeholderStyle,labelStyle,isNull,THEME]);var _arrowIconStyle=useMemo(function(){return[THEME.arrowIcon].concat(_toConsumableArray([arrowIconStyle].flat()));},[arrowIconStyle,THEME]);var _dropDownContainerStyle=useMemo(function(){var _ref3;return[THEME.dropDownContainer,(_ref3={},_defineProperty(_ref3,direction,pickerHeight-1),_defineProperty(_ref3,\"maxHeight\",maxHeight),_defineProperty(_ref3,\"zIndex\",_zIndex),_ref3)].concat(_toConsumableArray([dropDownContainerStyle].flat()),[dropDownNoBorderRadius]);},[dropDownContainerStyle,pickerHeight,maxHeight,dropDownNoBorderRadius,direction,_zIndex,THEME]);var _modalContentContainerStyle=useMemo(function(){return[THEME.modalContentContainer].concat(_toConsumableArray([modalContentContainerStyle].flat()));},[modalContentContainerStyle,THEME]);var zIndexContainer=useMemo(function(){return Platform.OS!=='android'&&{zIndex:_zIndex};},[_zIndex]);var _containerStyle=useMemo(function(){return[THEME.container,zIndexContainer].concat(_toConsumableArray([containerStyle].flat()),_toConsumableArray([_disabledStyle].flat()));},[zIndexContainer,containerStyle,_disabledStyle,THEME]);var _arrowIconContainerStyle=useMemo(function(){return[RTL_STYLE(rtl,THEME.arrowIconContainer)].concat(_toConsumableArray([arrowIconContainerStyle].flat()));},[rtl,arrowIconContainerStyle,THEME]);var _ArrowComponent=useMemo(function(){if(!showArrowIcon)return null;var Component;if(open&&ArrowUpIconComponent!==null)Component=_jsx(ArrowUpIconComponent,{style:_arrowIconStyle});else if(!open&&ArrowDownIconComponent!==null)Component=_jsx(ArrowDownIconComponent,{style:_arrowIconStyle});else Component=_jsx(Image,{source:open?ICON.ARROW_UP:ICON.ARROW_DOWN,style:_arrowIconStyle});return _jsx(View,{style:_arrowIconContainerStyle,children:Component});},[showArrowIcon,open,ArrowUpIconComponent,ArrowDownIconComponent,_arrowIconStyle,_arrowIconContainerStyle,ICON]);var _iconContainerStyle=useMemo(function(){return[RTL_STYLE(rtl,THEME.iconContainer)].concat(_toConsumableArray([iconContainerStyle].flat()));},[rtl,iconContainerStyle,THEME]);var SelectedItemIconComponent=useMemo(function(){var Component=_selectedItemIcon();return Component!==null&&_jsx(View,{style:_iconContainerStyle,children:_jsx(Component,{})});},[_selectedItemIcon,_iconContainerStyle]);var SimpleBodyComponent=useMemo(function(){return _jsxs(_Fragment,{children:[SelectedItemIconComponent,_jsx(Text,_objectSpread(_objectSpread({style:_labelStyle},labelProps),{},{children:_selectedItemLabel}))]});},[SelectedItemIconComponent,_labelStyle,labelProps,_selectedItemLabel]);var onPressBadge=useCallback(function(value){setValue(function(state){var _state=_toConsumableArray(state);var index=_state.findIndex(function(item){return item===value;});_state.splice(index,1);return _state;});},[setValue]);var _badgeColors=useMemo(function(){if(typeof badgeColors==='string')return[badgeColors];return badgeColors;},[badgeColors]);var _badgeDotColors=useMemo(function(){if(typeof badgeDotColors==='string')return[badgeDotColors];return badgeDotColors;},[badgeDotColors]);var getBadgeColor=useCallback(function(str){str=\"\"+str;var index=Math.abs(ASCII_CODE(str))%_badgeColors.length;return _badgeColors[index];},[_badgeColors]);var getBadgeDotColor=useCallback(function(str){str=\"\"+str;var index=Math.abs(ASCII_CODE(str))%_badgeDotColors.length;return _badgeDotColors[index];},[_badgeDotColors]);var RenderBadgeComponent=useMemo(function(){return renderBadgeItem!==null?renderBadgeItem:RenderBadgeItem;},[renderBadgeItem]);var __renderBadge=useCallback(function(_ref4){var _item$_schema$icon2;var item=_ref4.item;return _jsx(RenderBadgeComponent,{rtl:rtl,label:item[_schema.label],value:item[_schema.value],IconComponent:(_item$_schema$icon2=item[_schema.icon])!=null?_item$_schema$icon2:null,textStyle:textStyle,badgeStyle:badgeStyle,badgeTextStyle:badgeTextStyle,badgeDotStyle:badgeDotStyle,getBadgeColor:getBadgeColor,getBadgeDotColor:getBadgeDotColor,showBadgeDot:showBadgeDot,onPress:onPressBadge,theme:theme,THEME:THEME});},[rtl,_schema,textStyle,badgeStyle,badgeTextStyle,badgeDotStyle,getBadgeColor,getBadgeDotColor,showBadgeDot,onPressBadge,theme,THEME]);var _itemKey=useMemo(function(){if(itemKey===null)return _schema.value;return itemKey;},[itemKey,_schema]);var keyExtractor=useCallback(function(item){return\"\"+item[_itemKey];},[_itemKey]);var _badgeSeparatorStyle=useMemo(function(){return[THEME.badgeSeparator].concat(_toConsumableArray([badgeSeparatorStyle].flat()));},[badgeSeparatorStyle,THEME]);var BadgeSeparatorComponent=useCallback(function(){return _jsx(View,{style:_badgeSeparatorStyle});},[_badgeSeparatorStyle]);var labelContainer=useMemo(function(){return[THEME.labelContainer,rtl&&{transform:[{scaleX:-1}]}];},[rtl,THEME]);var BadgeListEmptyComponent=useCallback(function(){return _jsx(View,{style:labelContainer,children:_jsx(Text,_objectSpread(_objectSpread({style:_labelStyle},labelProps),{},{children:_placeholder}))});},[_labelStyle,labelContainer,labelProps,_placeholder]);var setBadgeFlatListRef=useCallback(function(ref){badgeFlatListRef.current=ref;},[]);var BadgeBodyComponent=useMemo(function(){return _jsx(FlatList,{ref:setBadgeFlatListRef,data:selectedItems,renderItem:__renderBadge,horizontal:true,showsHorizontalScrollIndicator:false,keyExtractor:keyExtractor,ItemSeparatorComponent:BadgeSeparatorComponent,ListEmptyComponent:BadgeListEmptyComponent,style:THEME.listBody,contentContainerStyle:THEME.listBodyContainer,inverted:rtl});},[rtl,selectedItems,__renderBadge,keyExtractor,BadgeSeparatorComponent,BadgeListEmptyComponent,THEME]);var _BodyComponent=useMemo(function(){switch(_mode){case MODE.SIMPLE:return SimpleBodyComponent;case MODE.BADGE:return multiple?BadgeBodyComponent:SimpleBodyComponent;default:}},[_mode,SimpleBodyComponent,BadgeBodyComponent,multiple]);var _listItemContainerStyle=useMemo(function(){return[RTL_DIRECTION(rtl,THEME.listItemContainer)].concat(_toConsumableArray([listItemContainerStyle].flat()),[stickyHeader&&{backgroundColor:THEME.style.backgroundColor}]);},[rtl,listItemContainerStyle,THEME]);var _tickIconContainerStyle=useMemo(function(){return[RTL_STYLE(rtl,THEME.tickIconContainer)].concat(_toConsumableArray([tickIconContainerStyle].flat()));},[rtl,tickIconContainerStyle,THEME]);var _listItemLabelStyle=useMemo(function(){return[THEME.listItemLabel].concat(_toConsumableArray([textStyle].flat()),_toConsumableArray([listItemLabelStyle].flat()));},[textStyle,listItemLabelStyle,THEME]);var _tickIconStyle=useMemo(function(){return[THEME.tickIcon].concat(_toConsumableArray([tickIconStyle].flat()));},[tickIconStyle,THEME]);var _searchContainerStyle=useMemo(function(){return[RTL_DIRECTION(rtl,THEME.searchContainer)].concat(_toConsumableArray([searchContainerStyle].flat()),[!searchable&&!modalTitle&&listMode===LIST_MODE.MODAL&&{flexDirection:'row-reverse'}]);},[rtl,listMode,searchable,modalTitle,searchContainerStyle,THEME]);var _searchTextInputStyle=useMemo(function(){return[textStyle,THEME.searchTextInput].concat(_toConsumableArray([searchTextInputStyle].flat()));},[textStyle,searchTextInputStyle,THEME]);var _closeIconContainerStyle=useMemo(function(){return[RTL_STYLE(rtl,THEME.closeIconContainer)].concat(_toConsumableArray([closeIconContainerStyle].flat()));},[rtl,closeIconContainerStyle,THEME]);var _closeIconStyle=useMemo(function(){return[THEME.closeIcon].concat(_toConsumableArray([closeIconStyle].flat()));},[closeIconStyle,THEME]);var _listMessageContainerStyle=useMemo(function(){return[THEME.listMessageContainer].concat(_toConsumableArray([listMessageContainerStyle].flat()));},[listMessageContainerStyle,THEME]);var _listMessageTextStyle=useMemo(function(){return[THEME.listMessageText].concat(_toConsumableArray([textStyle].flat()),_toConsumableArray([listMessageTextStyle].flat()));},[listMessageTextStyle,THEME]);var onPressItem=useCallback(function(item){var customItem=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(customItem!==false){item.custom=false;setItems(function(state){return[].concat(_toConsumableArray(state),[item]);});}if(multiple){if(memoryRef.current.value.includes(item[_schema.value])){var index=memoryRef.current.items.findIndex(function(x){return x[_schema.value]===item[_schema.value];});if(index>-1){memoryRef.current.items.splice(index,1);onSelectItem(memoryRef.current.items.slice());}}else{onSelectItem([].concat(_toConsumableArray(memoryRef.current.items),[item]));}}else{onSelectItem(item);}setValue(function(state){if(multiple){var _state=state!==null?_toConsumableArray(state):[];if(_state.includes(item[_schema.value])){if(Number.isInteger(min)&&min>=_state.length){return state;}var _index=_state.findIndex(function(x){return x===item[_schema.value];});_state.splice(_index,1);}else{if(Number.isInteger(max)&&max<=_state.length){return state;}_state.push(item[_schema.value]);}return _state;}else{return item[_schema.value];}});setNecessaryItems(function(state){if(multiple){var _state=_toConsumableArray(state);if(_state.findIndex(function(x){return x[_schema.value]===item[_schema.value];})>-1){if(Number.isInteger(min)&&min>=_state.length){return state;}var _index2=_state.findIndex(function(x){return x[_schema.value]===item[_schema.value];});_state.splice(_index2,1);return _state;}else{if(Number.isInteger(max)&&max<=_state.length){return state;}_state.push(item);return _state;}}else{return[item];}});if(closeAfterSelecting&&!multiple)onPressClose();},[setValue,multiple,min,max,onPressClose,onSelectItem,closeAfterSelecting,multiple,setItems,_schema]);var _TickIconComponent=useCallback(function(){if(!showTickIcon)return null;var Component;if(TickIconComponent!==null)Component=_jsx(TickIconComponent,{style:_tickIconStyle});else Component=_jsx(Image,{source:ICON.TICK,style:_tickIconStyle});return _jsx(View,{style:_tickIconContainerStyle,children:Component});},[TickIconComponent,_tickIconStyle,_tickIconContainerStyle,showTickIcon,ICON]);var RenderItemComponent=useMemo(function(){return renderListItem!==null?renderListItem:RenderListItem;},[renderListItem]);var _selectedItemContainerStyle=useMemo(function(){return[THEME.selectedItemContainer,selectedItemContainerStyle];},[THEME,selectedItemContainerStyle]);var _selectedItemLabelStyle=useMemo(function(){return[THEME.selectedItemLabel,selectedItemLabelStyle];},[THEME,selectedItemLabelStyle]);var _disabledItemContainerStyle=useMemo(function(){return[THEME.disabledItemContainer,disabledItemContainerStyle];},[THEME,disabledItemContainerStyle]);var _disabledItemLabelStyle=useMemo(function(){return[THEME.disabledItemContainer,disabledItemLabelStyle];},[THEME,disabledItemLabelStyle]);var __renderListItem=useCallback(function(_ref5){var _item$_schema$icon3,_item$_schema$parent,_item$_schema$selecta,_item$_schema$disable,_item$custom,_item$_schema$labelSt,_item$_schema$contain;var item=_ref5.item;var IconComponent=(_item$_schema$icon3=item[_schema.icon])!=null?_item$_schema$icon3:null;if(IconComponent){IconComponent=_jsx(View,{style:_iconContainerStyle,children:_jsx(IconComponent,{})});}var isSelected;if(multiple){isSelected=_value.includes(item[_schema.value]);}else{isSelected=_value===item[_schema.value];}return _jsx(RenderItemComponent,{rtl:rtl,item:item,label:item[_schema.label],value:item[_schema.value],parent:(_item$_schema$parent=item==null?void 0:item[_schema.parent])!=null?_item$_schema$parent:null,selectable:(_item$_schema$selecta=item==null?void 0:item[_schema.selectable])!=null?_item$_schema$selecta:null,disabled:(_item$_schema$disable=item==null?void 0:item[_schema.disabled])!=null?_item$_schema$disable:false,custom:(_item$custom=item.custom)!=null?_item$custom:false,props:itemProps,isSelected:isSelected,IconComponent:IconComponent,TickIconComponent:_TickIconComponent,listItemContainerStyle:_listItemContainerStyle,listItemLabelStyle:_listItemLabelStyle,listChildContainerStyle:listChildContainerStyle,listChildLabelStyle:listChildLabelStyle,listParentContainerStyle:listParentContainerStyle,listParentLabelStyle:listParentLabelStyle,customItemContainerStyle:customItemContainerStyle,customItemLabelStyle:customItemLabelStyle,selectedItemContainerStyle:_selectedItemContainerStyle,selectedItemLabelStyle:_selectedItemLabelStyle,disabledItemContainerStyle:_disabledItemContainerStyle,disabledItemLabelStyle:_disabledItemLabelStyle,labelStyle:(_item$_schema$labelSt=item==null?void 0:item[_schema.labelStyle])!=null?_item$_schema$labelSt:{},containerStyle:(_item$_schema$contain=item==null?void 0:item[_schema.containerStyle])!=null?_item$_schema$contain:{},categorySelectable:categorySelectable,onPress:onPressItem,setPosition:setItemPosition,theme:theme,THEME:THEME});},[rtl,RenderItemComponent,_listItemLabelStyle,_iconContainerStyle,listChildContainerStyle,listChildLabelStyle,listParentContainerStyle,listParentLabelStyle,_listItemContainerStyle,_listItemLabelStyle,customItemContainerStyle,customItemLabelStyle,_selectedItemContainerStyle,_selectedItemLabelStyle,_disabledItemContainerStyle,_disabledItemLabelStyle,_TickIconComponent,_schema,_value,multiple,itemProps,categorySelectable,onPressItem,theme,THEME]);var setItemPosition=useCallback(function(value,y){if(autoScroll&&listMode===LIST_MODE.SCROLLVIEW)itemPositionsRef.current[value]=y;},[]);var ItemSeparatorComponent=useCallback(function(){if(!itemSeparator)return null;return _jsx(View,{style:[THEME.itemSeparator].concat(_toConsumableArray([itemSeparatorStyle].flat()))});},[itemSeparator,itemSeparatorStyle,THEME]);var _searchPlaceholder=useMemo(function(){if(searchPlaceholder!==null)return searchPlaceholder;return _('SEARCH_PLACEHOLDER');},[searchPlaceholder,_]);var _onChangeSearchText=useCallback(function(text){setSearchText(text);onChangeSearchText(text);},[onChangeSearchText]);var _CloseIconComponent=useMemo(function(){if(listMode!==LIST_MODE.MODAL)return null;var Component;if(CloseIconComponent!==null)Component=_jsx(CloseIconComponent,{style:_closeIconStyle});else Component=_jsx(Image,{source:ICON.CLOSE,style:_closeIconStyle});return _jsx(TouchableOpacity,{style:_closeIconContainerStyle,onPress:onPressClose,children:Component});},[listMode,CloseIconComponent,_closeIconStyle,_closeIconContainerStyle,onPressClose,ICON]);var isSearchComponentVisible=useMemo(function(){if(listMode===LIST_MODE.MODAL)return true;return searchable;},[listMode,searchable]);var _modalTitleStyle=useMemo(function(){return[THEME.modalTitle].concat(_toConsumableArray([modalTitleStyle].flat()),_toConsumableArray([textStyle].flat()));},[textStyle,modalTitleStyle,THEME]);var SearchComponent=useMemo(function(){return isSearchComponentVisible&&_jsxs(View,{style:_searchContainerStyle,children:[searchable?_jsx(TextInput,_objectSpread({value:searchText,onChangeText:_onChangeSearchText,style:_searchTextInputStyle,placeholder:_searchPlaceholder,placeholderTextColor:searchPlaceholderTextColor},searchTextInputProps)):listMode===LIST_MODE.MODAL&&_jsx(View,{style:styles.flex,children:_jsx(Text,{style:_modalTitleStyle,children:modalTitle})}),_CloseIconComponent]});},[searchable,listMode,modalTitle,isSearchComponentVisible,_onChangeSearchText,_modalTitleStyle,_searchContainerStyle,_searchTextInputStyle,_searchPlaceholder,searchPlaceholderTextColor,searchText,searchTextInputProps]);var DropDownComponentWrapper=useCallback(function(Component){return _jsxs(View,{style:_dropDownContainerStyle,children:[SearchComponent,Component]});},[_dropDownContainerStyle,SearchComponent]);var _ActivityIndicatorComponent=useCallback(function(){var Component;if(ActivityIndicatorComponent!==null)Component=ActivityIndicatorComponent;else Component=ActivityIndicator;return _jsx(Component,{size:activityIndicatorSize,color:activityIndicatorColor});},[ActivityIndicatorComponent,activityIndicatorSize,activityIndicatorColor]);var _ListEmptyComponent=useCallback(function(){var Component;var message=_('NOTHING_TO_SHOW');if(ListEmptyComponent!==null)Component=ListEmptyComponent;else Component=ListEmpty;return _jsx(Component,{listMessageContainerStyle:_listMessageContainerStyle,listMessageTextStyle:_listMessageTextStyle,ActivityIndicatorComponent:_ActivityIndicatorComponent,loading:loading,message:message});},[_,_listMessageContainerStyle,_listMessageTextStyle,ListEmptyComponent,_ActivityIndicatorComponent,loading]);var onRequestCloseModal=useCallback(function(){setOpen(false);},[]);var DropDownFlatListComponent=useMemo(function(){return _jsx(FlatList,_objectSpread({ref:flatListRef,style:styles.flex,contentContainerStyle:THEME.flatListContentContainer,ListEmptyComponent:_ListEmptyComponent,data:_items,renderItem:__renderListItem,keyExtractor:keyExtractor,extraData:_value,ItemSeparatorComponent:ItemSeparatorComponent,stickyHeaderIndices:stickyHeaderIndices,onScrollToIndexFailed:onScrollToIndexFailed},flatListProps));},[_items,_value,__renderListItem,keyExtractor,ItemSeparatorComponent,flatListProps,_ListEmptyComponent,THEME]);var DropDownScrollViewComponent=useMemo(function(){return _jsxs(ScrollView,_objectSpread(_objectSpread({ref:scrollViewRef,nestedScrollEnabled:true,stickyHeaderIndices:stickyHeaderIndices},scrollViewProps),{},{children:[_items.map(function(item,index){return _jsxs(Fragment,{children:[index>0&&ItemSeparatorComponent(),__renderListItem({item:item})]},item[_itemKey]);}),_items.length===0&&_ListEmptyComponent()]}));},[__renderListItem,_itemKey,scrollViewProps,_ListEmptyComponent]);var DropDownModalComponent=useMemo(function(){return _jsx(Modal,_objectSpread(_objectSpread({visible:open,presentationStyle:\"fullScreen\",onRequestClose:onRequestCloseModal},modalProps),{},{children:_jsxs(SafeAreaView,{style:_modalContentContainerStyle,children:[SearchComponent,DropDownFlatListComponent]})}));},[open,SearchComponent,_modalContentContainerStyle,modalProps]);var DropDownComponent=useMemo(function(){switch(listMode){case LIST_MODE.FLATLIST:return DropDownComponentWrapper(DropDownFlatListComponent);case LIST_MODE.SCROLLVIEW:return DropDownComponentWrapper(DropDownScrollViewComponent);case LIST_MODE.MODAL:return DropDownModalComponent;default:}},[listMode,DropDownFlatListComponent,DropDownScrollViewComponent,DropDownModalComponent,DropDownComponentWrapper]);var DropDownBodyComponent=useMemo(function(){if(open||listMode===LIST_MODE.MODAL)return DropDownComponent;return null;},[open,listMode,DropDownComponent]);var onRef=useCallback(function(ref){pickerRef.current=ref;},[]);var pointerEvents=useMemo(function(){return disabled?\"none\":\"auto\";},[disabled]);return _jsxs(View,_objectSpread(_objectSpread({style:_containerStyle},containerProps),{},{children:[_jsxs(TouchableOpacity,_objectSpread(_objectSpread({style:_style,onPress:__onPress,onLayout:__onLayout},props),{},{ref:onRef,pointerEvents:pointerEvents,disabled:disabled,testID:testID,children:[_BodyComponent,_ArrowComponent]})),DropDownBodyComponent]}));}var styles=StyleSheet.create({flex:{flex:1}});export default memo(Picker);","map":{"version":3,"sources":["/home/ndonfris/Projects/ts-movie-list-frontend/frontend/node_modules/react-native-dropdown-picker/src/components/Picker.js"],"names":["React","useCallback","useState","useRef","useEffect","useMemo","memo","Fragment","Dimensions","get","WINDOW_HEIGHT","height","Colors","SCHEMA","GET_TRANSLATION","BADGE_COLORS","BADGE_DOT_COLORS","ASCII_CODE","TRANSLATIONS","MODE","LIST_MODE","DROPDOWN_DIRECTION","GET_DROPDOWN_DIRECTION","LANGUAGE","RTL_DIRECTION","RTL_STYLE","THEMES","RenderBadgeItem","RenderListItem","ListEmpty","Picker","value","items","open","placeholder","closeAfterSelecting","labelProps","disabled","disabledStyle","placeholderStyle","containerStyle","style","textStyle","labelStyle","arrowIconStyle","tickIconStyle","closeIconStyle","badgeStyle","badgeTextStyle","badgeDotStyle","iconContainerStyle","searchContainerStyle","searchTextInputStyle","searchPlaceholderTextColor","GREY","dropDownContainerStyle","modalContentContainerStyle","arrowIconContainerStyle","closeIconContainerStyle","tickIconContainerStyle","listItemContainerStyle","listItemLabelStyle","listChildContainerStyle","listChildLabelStyle","listParentContainerStyle","listParentLabelStyle","selectedItemContainerStyle","selectedItemLabelStyle","disabledItemContainerStyle","disabledItemLabelStyle","customItemContainerStyle","customItemLabelStyle","listMessageContainerStyle","listMessageTextStyle","itemSeparatorStyle","badgeSeparatorStyle","modalTitleStyle","listMode","DEFAULT","categorySelectable","searchable","searchPlaceholder","modalTitle","schema","language","translation","multiple","multipleText","mode","itemKey","maxHeight","renderBadgeItem","renderListItem","itemSeparator","bottomOffset","badgeColors","badgeDotColors","showArrowIcon","showBadgeDot","showTickIcon","stickyHeader","autoScroll","ArrowUpIconComponent","ArrowDownIconComponent","TickIconComponent","CloseIconComponent","ListEmptyComponent","ActivityIndicatorComponent","activityIndicatorSize","activityIndicatorColor","props","itemProps","modalProps","flatListProps","scrollViewProps","searchTextInputProps","loading","min","max","addCustomItem","setOpen","setItems","disableBorderRadius","containerProps","onLayout","e","onPress","onOpen","onClose","setValue","callback","onChangeValue","onChangeSearchText","text","zIndex","zIndexInverse","rtl","dropDownDirection","disableLocalSearch","theme","testID","closeOnBackPressed","onSelectItem","item","necessaryItems","setNecessaryItems","searchText","setSearchText","pickerHeight","setPickerHeight","direction","setDirection","badgeFlatListRef","pickerRef","initializationRef","itemPositionsRef","flatListRef","scrollViewRef","memoryRef","THEME","default","ICON","ICONS","_schema","current","Array","isArray","initialSelectedItems","valueNotNull","length","filter","includes","find","backAction","backHandler","BackHandler","addEventListener","remove","state","map","_item","x","_state","newItems","reduce","accumulator","currentValue","index","findIndex","push","scroll","SIMPLE","onPressClose","onPressOpen","onPressToggle","isOpen","sortedItems","parent","undefined","children","forEach","child","splice","setTimeout","hasOwnProperty","scrollTo","y","animated","scrollToIndex","onScrollToIndexFailed","averageItemLength","scrollToOffset","offset","stickyHeaderIndices","parents","_items","values","results","label","toLowerCase","replace","_value","Set","selectedItems","_language","FALLBACK","_","key","_placeholder","_multipleText","_mode","isNull","getSelectedItem","getLabel","fallback","_selectedItemLabel","_selectedItemIcon","icon","__onPress","AUTO","Promise","resolve","measureInWindow","args","size","__onLayout","Platform","OS","persist","nativeEvent","layout","pickerNoBorderRadius","MODAL","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","dropDownNoBorderRadius","_disabledStyle","_zIndex","_style","flat","_placeholderStyle","_labelStyle","_arrowIconStyle","arrowIcon","_dropDownContainerStyle","dropDownContainer","_modalContentContainerStyle","modalContentContainer","zIndexContainer","_containerStyle","container","_arrowIconContainerStyle","arrowIconContainer","_ArrowComponent","Component","ARROW_UP","ARROW_DOWN","_iconContainerStyle","iconContainer","SelectedItemIconComponent","SimpleBodyComponent","onPressBadge","_badgeColors","_badgeDotColors","getBadgeColor","str","Math","abs","getBadgeDotColor","RenderBadgeComponent","__renderBadge","_itemKey","keyExtractor","_badgeSeparatorStyle","badgeSeparator","BadgeSeparatorComponent","labelContainer","transform","scaleX","BadgeListEmptyComponent","setBadgeFlatListRef","ref","BadgeBodyComponent","listBody","listBodyContainer","_BodyComponent","BADGE","_listItemContainerStyle","listItemContainer","backgroundColor","_tickIconContainerStyle","tickIconContainer","_listItemLabelStyle","listItemLabel","_tickIconStyle","tickIcon","_searchContainerStyle","searchContainer","flexDirection","_searchTextInputStyle","searchTextInput","_closeIconContainerStyle","closeIconContainer","_closeIconStyle","closeIcon","_listMessageContainerStyle","listMessageContainer","_listMessageTextStyle","listMessageText","onPressItem","customItem","custom","slice","Number","isInteger","_TickIconComponent","TICK","RenderItemComponent","_selectedItemContainerStyle","selectedItemContainer","_selectedItemLabelStyle","selectedItemLabel","_disabledItemContainerStyle","disabledItemContainer","_disabledItemLabelStyle","__renderListItem","IconComponent","isSelected","selectable","setItemPosition","SCROLLVIEW","ItemSeparatorComponent","_searchPlaceholder","_onChangeSearchText","_CloseIconComponent","CLOSE","isSearchComponentVisible","_modalTitleStyle","SearchComponent","styles","flex","DropDownComponentWrapper","_ActivityIndicatorComponent","ActivityIndicator","_ListEmptyComponent","message","onRequestCloseModal","DropDownFlatListComponent","flatListContentContainer","DropDownScrollViewComponent","DropDownModalComponent","DropDownComponent","FLATLIST","DropDownBodyComponent","onRef","pointerEvents","StyleSheet","create"],"mappings":"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","sourcesContent":["import React, {\n    useCallback,\n    useState,\n    useRef,\n    useEffect,\n    useMemo,\n    memo,\n    Fragment,\n} from 'react';\n\nimport {\n    View,\n    SafeAreaView,\n    TouchableOpacity,\n    Text,\n    Image,\n    FlatList,\n    TextInput,\n    Dimensions,\n    ScrollView,\n    Modal,\n    ActivityIndicator,\n    BackHandler,\n    Platform,\n    StyleSheet,\n} from 'react-native';\n\nconst { height: WINDOW_HEIGHT } = Dimensions.get('window');\n\nimport Colors from '../constants/colors';\nimport {\n    SCHEMA,\n    GET_TRANSLATION,\n    BADGE_COLORS,\n    BADGE_DOT_COLORS,\n    ASCII_CODE,\n    TRANSLATIONS,\n    MODE,\n    LIST_MODE,\n    DROPDOWN_DIRECTION,\n    GET_DROPDOWN_DIRECTION,\n    LANGUAGE,\n    RTL_DIRECTION,\n    RTL_STYLE\n} from '../constants';\nimport THEMES from '../themes';\nimport RenderBadgeItem from './RenderBadgeItem';\nimport RenderListItem from './RenderListItem';\nimport ListEmpty from './ListEmpty';\n\nfunction Picker({\n    value = null,\n    items = [],\n    open,\n    placeholder = null,\n    closeAfterSelecting = true,\n    labelProps = {},\n    disabled = false,\n    disabledStyle = {},\n    placeholderStyle = {},\n    containerStyle = {},\n    style = {},\n    textStyle = {},\n    labelStyle = {},\n    arrowIconStyle = {},\n    tickIconStyle = {},\n    closeIconStyle = {},\n    badgeStyle = {},\n    badgeTextStyle = {},\n    badgeDotStyle = {},\n    iconContainerStyle = {},\n    searchContainerStyle = {},\n    searchTextInputStyle = {},\n    searchPlaceholderTextColor = Colors.GREY,\n    dropDownContainerStyle = {},\n    modalContentContainerStyle = {},\n    arrowIconContainerStyle = {},\n    closeIconContainerStyle = {},\n    tickIconContainerStyle = {},\n    listItemContainerStyle = {},\n    listItemLabelStyle = {},\n    listChildContainerStyle = {},\n    listChildLabelStyle = {},\n    listParentContainerStyle = {},\n    listParentLabelStyle = {},\n    selectedItemContainerStyle = {},\n    selectedItemLabelStyle = {},\n    disabledItemContainerStyle = {},\n    disabledItemLabelStyle = {},\n    customItemContainerStyle = {},\n    customItemLabelStyle = {},\n    listMessageContainerStyle = {},\n    listMessageTextStyle = {},\n    itemSeparatorStyle = {},\n    badgeSeparatorStyle = {},\n    modalTitleStyle = {},\n    listMode = LIST_MODE.DEFAULT,\n    categorySelectable = true,\n    searchable = false,\n    searchPlaceholder = null,\n    modalTitle,\n    schema = {},\n    language = LANGUAGE.DEFAULT,\n    translation = {},\n    multiple = false,\n    multipleText = null,\n    mode = MODE.DEFAULT,\n    itemKey = null,\n    maxHeight = 200,\n    renderBadgeItem = null,\n    renderListItem = null,\n    itemSeparator = false,\n    bottomOffset = 0,\n    badgeColors = BADGE_COLORS,\n    badgeDotColors = BADGE_DOT_COLORS,\n    showArrowIcon = true,\n    showBadgeDot = true,\n    showTickIcon = true,\n    stickyHeader = false,\n    autoScroll = false,\n    ArrowUpIconComponent = null,\n    ArrowDownIconComponent = null,\n    TickIconComponent = null,\n    CloseIconComponent = null,\n    ListEmptyComponent = null,\n    ActivityIndicatorComponent = null,\n    activityIndicatorSize = 30,\n    activityIndicatorColor = Colors.GREY,\n    props = {},\n    itemProps = {},\n    modalProps = {},\n    flatListProps = {},\n    scrollViewProps = {},\n    searchTextInputProps = {},\n    loading = false,\n    min = null,\n    max = null,\n    addCustomItem = false,\n    setOpen = () => {},\n    setItems = () => {},\n    disableBorderRadius = true,\n    containerProps = {},\n    onLayout = (e) => {},\n    onPress = (open) => {},\n    onOpen = () => {},\n    onClose = () => {},\n    setValue = (callback) => {},\n    onChangeValue = (value) => {},\n    onChangeSearchText = (text) => {},\n    zIndex = 5000,\n    zIndexInverse = 6000,\n    rtl = false,\n    dropDownDirection = DROPDOWN_DIRECTION.DEFAULT,\n    disableLocalSearch = false,\n    theme = THEMES.DEFAULT,\n    testID,\n    closeOnBackPressed = false,\n    onSelectItem = (item) => {}\n}) {\n    const [necessaryItems, setNecessaryItems] = useState([]);\n    const [searchText, setSearchText] = useState('');\n    const [pickerHeight, setPickerHeight] = useState(0);\n    const [direction, setDirection] = useState(GET_DROPDOWN_DIRECTION(dropDownDirection));\n\n    const badgeFlatListRef = useRef();\n    const pickerRef = useRef(null);\n    const initializationRef = useRef(false);\n    const itemPositionsRef = useRef({});\n    const flatListRef = useRef();\n    const scrollViewRef = useRef();\n    const memoryRef = useRef({\n        value: null,\n        items: []\n    });\n\n    const THEME = useMemo(() => THEMES[theme].default, [theme]);\n    const ICON = useMemo(() => THEMES[theme].ICONS, [theme])\n\n    /**\n     * The item schema.\n     * @returns {object}\n     */\n     const _schema = useMemo(() => ({...SCHEMA, ...schema}), [schema]);\n\n    /**\n     * componentDidMount.\n     */\n    useEffect(() => {\n        memoryRef.current.value = multiple ? (Array.isArray(value) ? value : []) : value;\n\n        // Get initial seleted items\n        let initialSelectedItems = [];\n        const valueNotNull = value !== null && (Array.isArray(value) && value.length !== 0);\n\n        if (valueNotNull) {\n            if (multiple) {\n                initialSelectedItems = items.filter(item => value.includes(item[_schema.value]));\n            } else {\n                initialSelectedItems = items.find(item => item[_schema.value] === value);\n            }\n        }\n\n        setNecessaryItems(initialSelectedItems);\n    }, []);\n\n    useEffect(() => {\n        if (closeOnBackPressed && open) {\n            const backAction = () => {\n                setOpen(false);\n\n                return true;\n            };\n            const backHandler = BackHandler.addEventListener(\n                \"hardwareBackPress\",\n                backAction\n            );\n\n            return () => backHandler.remove();\n        }\n    }, [open]);\n\n    /**\n     * Update necessary items.\n     */\n    useEffect(() => {\n        setNecessaryItems(state => {\n            return [...state].map(item => {\n                const _item = items.find(x => x[_schema.value] === item[_schema.value]);\n                \n                if (_item) {\n                    return {...item, ..._item};\n                }\n                \n                return item;\n            });\n        });\n    }, [items]);\n\n    /**\n     * Sync necessary items.\n     */\n    useEffect(() => {\n        if (multiple) {\n            setNecessaryItems(state => {\n                if (value === null || (Array.isArray(value) && value.length === 0))\n                    return [];\n                \n                let _state = [...state].filter(item => value.includes(item[_schema.value]));\n\n                const newItems = value.reduce((accumulator, currentValue) => {\n                    const index = _state.findIndex(item => item[_schema.value] === currentValue);\n\n                    if (index === -1) {\n                        const item = items.find(item => item[_schema.value] === currentValue);\n                    \n                        if (item) {\n                            return [...accumulator, item];\n                        }\n\n                        return accumulator;\n                    }\n\n                    return accumulator;\n                }, []);\n\n                return [..._state, ...newItems];\n            });\n        } else {\n            let state = [];\n\n            if (value !== null) {\n                const item = items.find(item => item[_schema.value] === value);\n\n                if (item) {\n                    state.push(item);\n                }\n            }\n            \n            setNecessaryItems(state);\n        }\n\n        if (initializationRef.current) {\n            onChangeValue(value);\n        } else {\n            initializationRef.current = true;\n        }\n    }, [value, items]);\n\n    /**\n     * Update value in the memory.\n     */\n    useEffect(() => {\n        memoryRef.current.value = value;\n    }, [value]);\n\n    /**\n     * Update items in the memory.\n     */\n     useEffect(() => {\n        memoryRef.current.items = necessaryItems;\n    }, [necessaryItems]);\n\n    /**\n     * Automatically scroll to the first selected item.\n     */\n    useEffect(() => {\n        if (open && autoScroll) {\n            scroll();\n        }\n    }, [open]);\n\n    /**\n     * dropDownDirection changed.\n     */\n    useEffect(() => {\n        setDirection(GET_DROPDOWN_DIRECTION(dropDownDirection));\n    }, [dropDownDirection]);\n\n    /**\n     * mode changed.\n     */\n    useEffect(() => {\n        if (mode === MODE.SIMPLE)\n            badgeFlatListRef.current = null;\n    }, [mode]);\n\n    /**\n     * onPressClose.\n     */\n    const onPressClose = useCallback(() => {\n        setOpen(false);\n        setSearchText('');\n        onClose();\n    }, [setOpen, onClose]);\n\n    /**\n     * onPressClose.\n     */\n    const onPressOpen = useCallback(() => {\n        setOpen(true);\n        onOpen();\n    }, [setOpen, onOpen]);\n\n    /**\n     * onPressToggle.\n     */\n    const onPressToggle = useCallback(() => {\n        const isOpen = ! open;\n\n        setOpen(isOpen);\n        setSearchText('');\n\n        if (isOpen)\n            onOpen();\n        else\n            onClose();\n\n        return isOpen;\n    }, [open, setOpen, onOpen, onClose]);\n\n    /**\n     * The sorted items.\n     * @returns {object}\n     */\n    const sortedItems = useMemo(() => {\n        const sortedItems = items.filter(item => item[_schema.parent] === undefined || item[_schema.parent] === null);\n        const children = items.filter(item => item[_schema.parent] !== undefined && item[_schema.parent] !== null);\n\n        children.forEach((child) => {\n            const index = sortedItems.findIndex(item => item[_schema.parent] === child[_schema.parent] || item[_schema.value] === child[_schema.parent]);\n\n            if (index > -1) {\n                sortedItems.splice(index + 1, 0, child);\n            }\n        });\n\n        return sortedItems;\n    }, [items, _schema]);\n\n    /**\n     * Scroll the the first selected item.\n     */\n    const scroll = useCallback(() => {\n        setTimeout(() => {\n            if ((scrollViewRef.current || flatListRef.current)) {\n                const isArray = Array.isArray(memoryRef.current.value);\n\n                if (memoryRef.current.value === null || (isArray && memoryRef.current.value.length === 0))\n                    return;\n\n                const value = isArray ? memoryRef.current.value[0] : memoryRef.current.value;\n\n                if (scrollViewRef.current && itemPositionsRef.current.hasOwnProperty(value)) {\n                    scrollViewRef.current?.scrollTo?.({\n                        x: 0,\n                        y: itemPositionsRef.current[value],\n                        animated: true,\n                    });\n                } else {\n                    const index = sortedItems.findIndex(item => item[_schema[\"value\"]] === value);\n                    \n                    if (index > -1)\n                        flatListRef.current?.scrollToIndex?.({\n                            index,\n                            animated: true,\n                        });\n                }\n            }\n        }, 200);\n    }, [sortedItems]);\n\n    /**\n     * onScrollToIndexFailed.\n     */\n     const onScrollToIndexFailed = useCallback(({averageItemLength, index}) => {\n        flatListRef.current.scrollToOffset?.({\n            offset: averageItemLength * index,\n            animated: true\n        });\n    }, []);\n\n    /**\n     * The indices of all parent items.\n     * @returns {object}\n     */\n     const stickyHeaderIndices = useMemo(() => {\n        const stickyHeaderIndices = [];\n        if (stickyHeader) {\n            const parents = sortedItems.filter(item => item[_schema.parent] === undefined || item[_schema.parent] === null);\n            parents.forEach((parent) => {\n                const index = sortedItems.findIndex(item => item[_schema.value] === parent[_schema.value]);\n                if (index > -1) stickyHeaderIndices.push(index);\n            })\n\n        }\n        return stickyHeaderIndices;\n\n    }, [stickyHeader, sortedItems])\n\n    /**\n     * The items.\n     * @returns {object}\n     */\n    const _items = useMemo(() => {\n        if (searchText.length === 0) {\n            return sortedItems;\n        } else {\n            if (disableLocalSearch)\n                return sortedItems;\n    \n            const values = [];\n            let results = sortedItems.filter(item => {\n                if (item[_schema.label].toLowerCase().includes(searchText.toLowerCase())) {\n                    values.push(item[_schema.value]);\n                    return true;\n                }\n\n                return false;\n            });\n\n            results.forEach((item, index) => {\n                if (item[_schema.parent] === undefined || item[_schema.parent] === null || values.includes(item[_schema.parent]))\n                    return;\n\n                const parent = sortedItems.find(x => x[_schema.value] === item[_schema.parent]);\n                values.push(item[_schema.parent]);\n\n                results.splice(index, 0, parent);\n            });\n\n            if ((results.length === 0 || results.findIndex(item => item[_schema.label].toLowerCase() === searchText.toLowerCase()) === -1) && addCustomItem) {\n                results.push({\n                    [_schema.label]: searchText,\n                    [_schema.value]: searchText.replace(' ', '-'),\n                    custom: true\n                });\n            }\n\n            return results;\n        }\n    }, [sortedItems, _schema, searchText, addCustomItem]);\n\n    /**\n     * The value.\n     * @returns {string|object|null}}\n     */\n    const _value = useMemo(() => {\n        if (multiple) {\n            if (value === null)\n                return [];\n\n            return [...new Set(value)];\n        }\n\n        return value;\n    }, [value, multiple]);\n\n    /**\n     * Selected items only for multiple items.\n     * @returns {object}\n     */\n    const selectedItems = useMemo(() => {\n        if (! multiple)\n            return [];\n\n        return necessaryItems.filter(item => _value.includes(item[_schema.value]));\n    }, [necessaryItems, _value, _schema, multiple]);\n\n    /**\n     * The language.\n     * @returns {string}\n     */\n    const _language = useMemo(() => {\n        if (TRANSLATIONS.hasOwnProperty(language))\n            return language;\n\n        return LANGUAGE.FALLBACK;\n    }, [language]);\n\n    /**\n     * Get translation.\n     */\n    const _ = useCallback((key) => {\n        return GET_TRANSLATION(key, _language, translation);\n    }, [_language, translation]);\n\n    /**\n     * The placeholder.\n     * @returns {string}\n     */\n    const _placeholder = useMemo(() => placeholder ?? _('PLACEHOLDER'), [placeholder, _]);\n\n    /**\n     * The multiple text.\n     * @returns {string}\n     */\n     const _multipleText = useMemo(() => multipleText ?? _('SELECTED_ITEMS_COUNT_TEXT'), [multipleText, _]);\n\n    /**\n     * The mode.\n     * @returns {string}\n     */\n    const _mode = useMemo(() => {\n        try {\n            return mode;\n        } catch (e) {\n            return MODE.SIMPLE;\n        }\n    }, [mode]);\n\n    /**\n     * Indicates whether the value is null.\n     * @returns {boolean}\n     */\n     const isNull = useMemo(() => {\n        if (_value === null || (Array.isArray(_value) && _value.length === 0))\n            return true;\n\n        return necessaryItems.length === 0;\n     }, [necessaryItems, _value]);\n\n    /**\n     * Get the selected item.\n     * @returns {object}\n     */\n    const getSelectedItem = useCallback(() => {\n        if (multiple)\n            return _value;\n\n        if (isNull)\n            return null;\n        \n        try {\n            return necessaryItems.find(item => item[_schema.value] === _value);\n        } catch (e) {\n            return null;\n        }\n    }, [_value, necessaryItems, isNull, multiple]);\n\n    /**\n     * Get the label of the selected item.\n     * @param {string|null} fallback\n     * @returns {string}\n     */\n    const getLabel = useCallback((fallback = null) => {\n        const item = getSelectedItem();\n\n        if (multiple)\n            if (item.length > 0)\n                return _multipleText.replace('{count}', item.length);\n            else\n                return fallback;\n\n        try {\n            return item[_schema.label];\n        } catch (e) {\n            return fallback;\n        }\n    }, [getSelectedItem, multiple, _multipleText, _schema]);\n\n    /**\n     * The label of the selected item / placeholder.\n     */\n    const _selectedItemLabel = useMemo(() => getLabel(_placeholder), [getLabel, _placeholder]);\n\n    /**\n     * The icon of the selected item.\n     */\n    const _selectedItemIcon = useCallback(() => {\n        if (multiple)\n            return null;\n\n        const item = getSelectedItem();\n\n        try {\n            return item[_schema.icon] ?? null;\n        } catch (e) {\n            return null;\n        }\n    }, [getSelectedItem, multiple, _schema]);\n\n\n    /**\n     * onPress.\n     */\n    const __onPress = useCallback(async () => {\n        const isOpen = ! open;\n\n        onPress(isOpen);\n\n        if (isOpen && dropDownDirection === DROPDOWN_DIRECTION.AUTO) {\n            const [, y] = await new Promise((resolve) =>\n                pickerRef.current.measureInWindow((...args) => resolve(args))\n            );\n            const size = y + maxHeight + pickerHeight + bottomOffset;\n\n            setDirection(size < WINDOW_HEIGHT ? 'top' : 'bottom');\n        }\n\n        onPressToggle();\n    }, [\n        open,\n        onPressToggle,\n        onPress,\n        maxHeight,\n        pickerHeight,\n        bottomOffset,\n        dropDownDirection\n    ]);\n\n    /**\n     * onLayout.\n     */\n    const __onLayout = useCallback((e) => {\n        if(Platform.OS !== \"web\")\n            e.persist();\n\n        onLayout(e);\n\n        setPickerHeight(e.nativeEvent.layout.height);\n    }, [onLayout]);\n\n    /**\n     * Disable borderRadius for the picker.\n     * @returns {object}\n     */\n    const pickerNoBorderRadius = useMemo(() => {\n        if (listMode === LIST_MODE.MODAL)\n            return null;\n\n        if (disableBorderRadius && open) {\n            return direction === 'top' ? {\n                borderBottomLeftRadius: 0,\n                borderBottomRightRadius: 0,\n            } : {\n                borderTopLeftRadius: 0,\n                borderTopRightRadius: 0,\n            };\n        }\n\n        return {};\n    }, [disableBorderRadius, open, direction, listMode]);\n\n    /**\n     * Disable borderRadius for the drop down.\n     * @returns {object}\n     */\n     const dropDownNoBorderRadius = useMemo(() => {\n        if (listMode === LIST_MODE.MODAL)\n            return null;\n\n        if (disableBorderRadius && open) {\n            return direction === 'top' ? {\n                borderTopLeftRadius: 0,\n                borderTopRightRadius: 0,\n            } : {\n                borderBottomLeftRadius: 0,\n                borderBottomRightRadius: 0,\n            };\n        }\n     }, [disableBorderRadius, open, direction, listMode]);\n\n    /**\n     * The disabled style.\n     * @returns {object}\n     */\n    const _disabledStyle = useMemo(() => disabled && disabledStyle, [disabled, disabledStyle]);\n\n    /**\n     * The zIndex.\n     * @returns {number}\n     */\n    const _zIndex = useMemo(() => {\n        if (open) {\n            return direction === 'top' ? zIndex : zIndexInverse;\n        }\n\n        return zIndex;\n    }, [zIndex, zIndexInverse, direction, open]);\n\n    /**\n     * The style.\n     * @returns {object}\n     */\n    const _style = useMemo(() => ([\n        RTL_DIRECTION(rtl, THEME.style), {\n            zIndex: _zIndex\n        },\n        ...[style].flat(),\n        pickerNoBorderRadius\n    ]), [rtl, style, pickerNoBorderRadius, _zIndex, THEME]);\n\n    /**\n     * The placeholder style.\n     * @returns {object}\n     */\n    const _placeholderStyle = useMemo(() => {\n        return isNull && placeholderStyle;\n    }, [isNull, placeholderStyle]);\n\n    /**\n     * The style of the label.\n     * @returns {object}\n     */\n    const _labelStyle = useMemo(() => ([\n        THEME.label,\n        ...[textStyle].flat(),\n        ...[! isNull && labelStyle].flat(),\n        ...[_placeholderStyle].flat(),\n    ]), [textStyle, _placeholderStyle, labelStyle, isNull, THEME]);\n\n    /**\n     * The arrow icon style.\n     * @returns {object}\n     */\n    const _arrowIconStyle = useMemo(() => ([\n        THEME.arrowIcon,\n        ...[arrowIconStyle].flat()\n    ]), [arrowIconStyle, THEME]);\n\n    /**\n     * The dropdown container style.\n     * @returns {object}\n     */\n    const _dropDownContainerStyle = useMemo(() => ([\n        THEME.dropDownContainer, {\n            [direction]: pickerHeight - 1,\n            maxHeight,\n            zIndex: _zIndex\n        },\n        ...[dropDownContainerStyle].flat(),\n        dropDownNoBorderRadius\n    ]), [\n        dropDownContainerStyle,\n        pickerHeight,\n        maxHeight,\n        dropDownNoBorderRadius,\n        direction,\n        _zIndex,\n        THEME\n    ]);\n\n    /**\n     * The modal content container style.\n     * @returns {object}\n     */\n     const _modalContentContainerStyle = useMemo(() => ([\n        THEME.modalContentContainer,\n        ...[modalContentContainerStyle].flat()\n    ]), [modalContentContainerStyle, THEME]);\n\n    /**\n     * The zIndex of the container.\n     * @returns {object}\n     */\n    const zIndexContainer = useMemo(() => Platform.OS !== 'android' && {\n        zIndex: _zIndex\n    }, [_zIndex]);\n\n    /**\n     * The container style.\n     * @returns {object}\n     */\n    const _containerStyle = useMemo(() => ([\n        THEME.container,\n        zIndexContainer,\n        ...[containerStyle].flat(),\n        ...[_disabledStyle].flat()\n    ]), [zIndexContainer, containerStyle, _disabledStyle, THEME]);\n\n    /**\n     * The arrow icon container style.\n     * @returns {object}\n     */\n    const _arrowIconContainerStyle = useMemo(() => ([\n        RTL_STYLE(rtl, THEME.arrowIconContainer),\n        ...[arrowIconContainerStyle].flat()\n    ]), [rtl, arrowIconContainerStyle, THEME]);\n\n    /**\n     * The arrow component.\n     * @returns {JSX.Element}\n     */\n    const _ArrowComponent = useMemo(() => {\n        if (! showArrowIcon)\n            return null;\n\n        let Component;\n        if (open && ArrowUpIconComponent !== null)\n            Component = <ArrowUpIconComponent style={_arrowIconStyle} />;\n        else if (! open && ArrowDownIconComponent !== null)\n            Component = <ArrowDownIconComponent style={_arrowIconStyle} />;\n        else\n            Component = <Image source={open ? ICON.ARROW_UP : ICON.ARROW_DOWN} style={_arrowIconStyle} />;\n\n        return (\n            <View style={_arrowIconContainerStyle}>\n                {Component}\n            </View>\n        );\n    }, [\n        showArrowIcon,\n        open,\n        ArrowUpIconComponent,\n        ArrowDownIconComponent,\n        _arrowIconStyle,\n        _arrowIconContainerStyle,\n        ICON\n    ]);\n\n    /**\n     * The icon container style.\n     * @returns {object}\n     */\n     const _iconContainerStyle = useMemo(() => ([\n        RTL_STYLE(rtl, THEME.iconContainer),\n        ...[iconContainerStyle].flat()\n    ]), [rtl, iconContainerStyle, THEME]);\n\n    /**\n     * The selected item icon component.\n     * @returns {JSX.Element|null}\n     */\n     const SelectedItemIconComponent = useMemo(() => {\n        const Component = _selectedItemIcon();\n\n        return Component !== null && (\n            <View style={_iconContainerStyle}>\n                <Component />\n            </View>\n        );\n     }, [_selectedItemIcon, _iconContainerStyle]);\n\n    /**\n     * The simple body component.\n     * @returns {JSX.Element}\n     */\n    const SimpleBodyComponent = useMemo(() => (\n        <>\n            {SelectedItemIconComponent}\n            <Text style={_labelStyle} {...labelProps}>\n                {_selectedItemLabel}\n            </Text>\n        </>\n    ), [SelectedItemIconComponent, _labelStyle, labelProps, _selectedItemLabel]);\n\n    /**\n     * onPress badge.\n     */\n    const onPressBadge = useCallback((value) => {\n        setValue(state => {\n            let _state = [...state];\n            const index = _state.findIndex(item => item === value);\n                _state.splice(index, 1);\n\n            return _state;\n        });\n    }, [setValue]);\n\n    /**\n     * The badge colors.\n     * @returns {object}\n     */\n    const _badgeColors = useMemo(() => {\n        if (typeof badgeColors === 'string')\n            return [badgeColors];\n\n        return badgeColors;\n    }, [badgeColors]);\n\n    /**\n     * The badge dot colors.\n     * @returns {object}\n     */\n    const _badgeDotColors = useMemo(() => {\n        if (typeof badgeDotColors === 'string')\n            return [badgeDotColors];\n\n        return badgeDotColors;\n    }, [badgeDotColors]);\n\n    /**\n     * Get badge color.\n     * @param {string} str\n     * @returns {string}\n     */\n     const getBadgeColor = useCallback((str) => {\n        str = `${str}`;\n\n        const index = Math.abs(ASCII_CODE(str)) % _badgeColors.length;\n        return _badgeColors[index];\n    }, [_badgeColors]);\n\n    /**\n     * Get badge dot color.\n     * @param {string} str\n     * @returns {string}\n     */\n     const getBadgeDotColor = useCallback((str) => {\n        str = `${str}`;\n\n        const index = Math.abs(ASCII_CODE(str)) % _badgeDotColors.length;\n        return _badgeDotColors[index];\n    }, [_badgeDotColors]);\n\n    /**\n     * The render badge component.\n     * @returns {JSX.Element}\n     */\n    const RenderBadgeComponent = useMemo(() => {\n        return renderBadgeItem !== null ? renderBadgeItem : RenderBadgeItem;\n    }, [renderBadgeItem]);\n\n    /**\n     * Render badge.\n     * @returns {JSX.Element}\n     */\n    const __renderBadge = useCallback(({item}) => (\n        <RenderBadgeComponent\n            rtl={rtl}\n            label={item[_schema.label]}\n            value={item[_schema.value]}\n            IconComponent={item[_schema.icon] ?? null}\n            textStyle={textStyle}\n            badgeStyle={badgeStyle}\n            badgeTextStyle={badgeTextStyle}\n            badgeDotStyle={badgeDotStyle}\n            getBadgeColor={getBadgeColor}\n            getBadgeDotColor={getBadgeDotColor}\n            showBadgeDot={showBadgeDot}\n            onPress={onPressBadge}\n            theme={theme}\n            THEME={THEME}\n        />\n    ), [\n        rtl,\n        _schema,\n        textStyle,\n        badgeStyle,\n        badgeTextStyle,\n        badgeDotStyle,\n        getBadgeColor,\n        getBadgeDotColor,\n        showBadgeDot,\n        onPressBadge,\n        theme,\n        THEME\n    ]);\n\n    /**\n     * The badge key.\n     * @returns {string}\n     */\n    const _itemKey = useMemo(() => {\n        if (itemKey === null)\n            return _schema.value;\n        \n        return itemKey;\n    }, [itemKey, _schema]);\n\n    /**\n     * The key extractor.\n     * @returns {string}\n     */\n    const keyExtractor = useCallback((item) => `${item[_itemKey]}`, [_itemKey]);\n\n    /**\n     * The badge separator style.\n     * @returns {object}\n     */\n    const _badgeSeparatorStyle = useMemo(() => ([\n        THEME.badgeSeparator,\n        ...[badgeSeparatorStyle].flat()\n    ]), [badgeSeparatorStyle, THEME]);\n\n    /**\n     * The badge separator component.\n     * @returns {JSX.Element}\n     */\n    const BadgeSeparatorComponent = useCallback(() => (\n        <View style={_badgeSeparatorStyle} />\n    ), [_badgeSeparatorStyle]);\n\n    /**\n     * The label container.\n     * @returns {object}\n     */\n    const labelContainer = useMemo(() => ([\n        THEME.labelContainer, rtl && {\n            transform: [\n                {scaleX: -1}\n            ]\n        }\n    ]), [rtl, THEME]);\n\n    /**\n     * Badge list empty component.\n     * @returns {JSX.Element}\n     */\n    const BadgeListEmptyComponent = useCallback(() => (\n        <View style={labelContainer}>\n            <Text style={_labelStyle} {...labelProps}>\n                {_placeholder}\n            </Text>\n        </View>\n    ), [_labelStyle, labelContainer, labelProps, _placeholder]);\n\n    /**\n     * Set ref.\n     */\n    const setBadgeFlatListRef = useCallback((ref) => {\n        badgeFlatListRef.current = ref;\n    }, []);\n\n    /**\n     * The badge body component.\n     * @returns {JSX.Element}\n     */\n     const BadgeBodyComponent = useMemo(() => (\n        <FlatList\n            ref={setBadgeFlatListRef}\n            data={selectedItems}\n            renderItem={__renderBadge}\n            horizontal={true}\n            showsHorizontalScrollIndicator={false}\n            keyExtractor={keyExtractor}\n            ItemSeparatorComponent={BadgeSeparatorComponent}\n            ListEmptyComponent={BadgeListEmptyComponent}\n            style={THEME.listBody}\n            contentContainerStyle={THEME.listBodyContainer}\n            inverted={rtl}\n        />\n    ), [\n        rtl,\n        selectedItems,\n        __renderBadge,\n        keyExtractor,\n        BadgeSeparatorComponent,\n        BadgeListEmptyComponent,\n        THEME\n    ]);\n\n    /**\n     * The body component.\n     */\n    const _BodyComponent = useMemo(() => {\n        switch (_mode) {\n            case MODE.SIMPLE: return SimpleBodyComponent;\n            case MODE.BADGE: return multiple ? BadgeBodyComponent : SimpleBodyComponent;\n            default: //\n        }\n    }, [_mode, SimpleBodyComponent, BadgeBodyComponent, multiple]);\n\n    /**\n     * The list item container style.\n     * @returns {object}\n     */\n    const _listItemContainerStyle = useMemo(() => ([\n        RTL_DIRECTION(rtl, THEME.listItemContainer),\n        ...[listItemContainerStyle].flat(),\n        stickyHeader && {backgroundColor: THEME.style.backgroundColor},\n    ]), [rtl, listItemContainerStyle, THEME]);\n\n    /**\n     * The tick icon container style.\n     * @returns {object}\n     */\n    const _tickIconContainerStyle = useMemo(() => ([\n        RTL_STYLE(rtl, THEME.tickIconContainer),\n        ...[tickIconContainerStyle].flat()\n    ]), [rtl, tickIconContainerStyle,THEME]);\n\n    /**\n     * The list item label style.\n     * @returns {object}\n     */\n    const _listItemLabelStyle = useMemo(() => ([\n        THEME.listItemLabel,\n        ...[textStyle].flat(),\n        ...[listItemLabelStyle].flat()\n    ]), [textStyle, listItemLabelStyle, THEME]);\n\n    /**\n     * The tick icon style.\n     * @returns {object}\n     */\n    const _tickIconStyle = useMemo(() => ([\n        THEME.tickIcon,\n        ...[tickIconStyle].flat()\n    ]), [tickIconStyle, THEME]);\n\n    /**\n     * The search container style.\n     * @returns {object}\n     */\n    const _searchContainerStyle = useMemo(() => ([\n        RTL_DIRECTION(rtl, THEME.searchContainer),\n        ...[searchContainerStyle].flat(), ! searchable && ! modalTitle && listMode === LIST_MODE.MODAL && {\n            flexDirection: 'row-reverse'\n        }\n    ]), [rtl, listMode, searchable, modalTitle, searchContainerStyle, THEME]);\n\n    /**\n     * The search text input style.\n     * @returns {object}\n     */\n    const _searchTextInputStyle = useMemo(() => ([\n        textStyle,\n        THEME.searchTextInput,\n        ...[searchTextInputStyle].flat()\n    ]), [textStyle, searchTextInputStyle, THEME]);\n\n    /**\n     * The close icon container style.\n     * @returns {object}\n     */\n    const _closeIconContainerStyle = useMemo(() => ([\n        RTL_STYLE(rtl, THEME.closeIconContainer),\n        ...[closeIconContainerStyle].flat()\n    ]), [rtl, closeIconContainerStyle, THEME]);\n\n    /**\n     * The close icon style.\n     * @returns {object}\n     */\n    const _closeIconStyle = useMemo(() => ([\n        THEME.closeIcon,\n        ...[closeIconStyle].flat()\n    ]), [closeIconStyle, THEME]);\n\n    /**\n     * The list message container style.\n     * @returns {objects}\n     */\n    const _listMessageContainerStyle = useMemo(() => ([\n        THEME.listMessageContainer,\n        ...[listMessageContainerStyle].flat()\n    ]), [listMessageContainerStyle, THEME]);\n\n    /**\n     * The list message text style.\n     * @returns {object}\n     */\n    const _listMessageTextStyle = useMemo(() => ([\n        THEME.listMessageText,\n        ...[textStyle].flat(),\n        ...[listMessageTextStyle].flat()\n    ]), [listMessageTextStyle, THEME]);\n    \n\n    /**\n     * onPress item.\n     */\n    const onPressItem = useCallback((item, customItem = false) => {\n        if (customItem !== false) {\n            item.custom = false;\n            setItems(state => [...state, item]);\n        }\n\n        // Not a reliable method for external value changes.\n        if (multiple) {\n            if (memoryRef.current.value.includes(item[_schema.value])) {\n                const index = memoryRef.current.items.findIndex(x => x[_schema.value] === item[_schema.value]);\n\n                if (index > -1) {\n                    memoryRef.current.items.splice(index, 1);\n                    onSelectItem(memoryRef.current.items.slice());\n                }\n            } else {\n                onSelectItem([...memoryRef.current.items, item]);\n            }\n        } else {\n            onSelectItem(item);\n        }\n\n        setValue(state => {\n            if (multiple) {\n                let _state = state !== null ? [...state] : [];\n\n                if (_state.includes(item[_schema.value])) {\n                    // Remove the value\n                    if (Number.isInteger(min) && min >= _state.length) {\n                        return state;\n                    }\n\n                    const index = _state.findIndex(x => x === item[_schema.value]);\n                    _state.splice(index, 1);\n                } else {\n                    // Add the value\n                    if (Number.isInteger(max) && max <= _state.length) {\n                        return state;\n                    }\n\n                    _state.push(item[_schema.value]);\n                }\n\n                return _state;\n            } else {\n                return item[_schema.value];\n            }\n        });\n\n        setNecessaryItems(state => {\n            if (multiple) {\n                const _state = [...state];\n\n                if (_state.findIndex(x => x[_schema.value] === item[_schema.value]) > -1) {\n                    // Remove the item\n                    if (Number.isInteger(min) && min >= _state.length) {\n                        return state;\n                    }\n\n                    const index = _state.findIndex(x => x[_schema.value] === item[_schema.value]);\n                    _state.splice(index, 1);\n\n                    return _state;\n                } else {\n                    // Add the item\n                    if (Number.isInteger(max) && max <= _state.length) {\n                        return state;\n                    }\n\n                    _state.push(item);\n\n                    return _state;\n                }\n            } else {\n                return [item];\n            }\n        });\n\n        if (closeAfterSelecting && ! multiple)\n            onPressClose();\n    }, [\n        setValue,\n        multiple,\n        min,\n        max,\n        onPressClose,\n        onSelectItem,\n        closeAfterSelecting,\n        multiple,\n        setItems,\n        _schema\n    ]);\n\n    /**\n     * The tick icon component.\n     * @returns {JSX.Element}\n     */\n    const _TickIconComponent = useCallback(() => {\n        if (! showTickIcon)\n            return null;\n\n        let Component;\n        if (TickIconComponent !== null)\n            Component = <TickIconComponent style={_tickIconStyle} />;\n        else\n            Component = <Image source={ICON.TICK} style={_tickIconStyle} />;\n\n        return (\n            <View style={_tickIconContainerStyle}>\n                {Component}\n            </View>\n        );\n    }, [TickIconComponent, _tickIconStyle, _tickIconContainerStyle, showTickIcon, ICON]);\n\n    /**\n     * The renderItem component.\n     * @returns {JSX.Element}\n     */\n    const RenderItemComponent = useMemo(() => {\n        return renderListItem !== null ? renderListItem : RenderListItem;\n    }, [renderListItem]);\n\n    /**\n     * The selected item container style.\n     * @returns {object}\n     */\n    const _selectedItemContainerStyle = useMemo(() => ([\n        THEME.selectedItemContainer,\n        selectedItemContainerStyle\n    ]), [THEME, selectedItemContainerStyle]);\n\n    /**\n     * The selected item label style.\n     * @returns {object}\n     */\n    const _selectedItemLabelStyle = useMemo(() => ([\n        THEME.selectedItemLabel,\n        selectedItemLabelStyle\n    ]), [THEME, selectedItemLabelStyle]);\n\n    /**\n     * The disabled item container style.\n     * @returns {object}\n     */\n    const _disabledItemContainerStyle = useMemo(() => ([\n        THEME.disabledItemContainer,\n        disabledItemContainerStyle\n    ]), [THEME, disabledItemContainerStyle]);\n\n    /**\n     * The disabled item label style.\n     * @returns {object}\n     */\n    const _disabledItemLabelStyle = useMemo(() => ([\n        THEME.disabledItemContainer,\n        disabledItemLabelStyle\n    ]), [THEME, disabledItemLabelStyle]);\n\n    /**\n     * Render list item.\n     * @returns {JSX.Element}\n     */\n    const __renderListItem = useCallback(({item}) => {\n        let IconComponent = item[_schema.icon] ?? null;\n\n        if (IconComponent) {\n            IconComponent = (\n                <View style={_iconContainerStyle}>\n                    <IconComponent />\n                </View>\n            );\n        }\n\n        let isSelected;\n        if (multiple) {\n            isSelected = _value.includes(item[_schema.value]);\n        } else {\n            isSelected = _value === item[_schema.value]\n        }\n\n        return (\n            <RenderItemComponent\n                rtl={rtl}\n                item={item}\n                label={item[_schema.label]}\n                value={item[_schema.value]}\n                parent={item?.[_schema.parent] ?? null}\n                selectable={item?.[_schema.selectable] ?? null}\n                disabled={item?.[_schema.disabled] ?? false}\n                custom={item.custom ?? false}\n                props={itemProps}\n                isSelected={isSelected}\n                IconComponent={IconComponent}\n                TickIconComponent={_TickIconComponent}\n                listItemContainerStyle={_listItemContainerStyle}\n                listItemLabelStyle={_listItemLabelStyle}\n                listChildContainerStyle={listChildContainerStyle}\n                listChildLabelStyle={listChildLabelStyle}\n                listParentContainerStyle={listParentContainerStyle}\n                listParentLabelStyle={listParentLabelStyle}\n                customItemContainerStyle={customItemContainerStyle}\n                customItemLabelStyle={customItemLabelStyle}\n                selectedItemContainerStyle={_selectedItemContainerStyle}\n                selectedItemLabelStyle={_selectedItemLabelStyle}\n                disabledItemContainerStyle={_disabledItemContainerStyle}\n                disabledItemLabelStyle={_disabledItemLabelStyle}\n                labelStyle={item?.[_schema.labelStyle] ?? {}}\n                containerStyle={item?.[_schema.containerStyle] ?? {}}\n                categorySelectable={categorySelectable}\n                onPress={onPressItem}\n                setPosition={setItemPosition}\n                theme={theme}\n                THEME={THEME}\n            />\n        );\n    }, [\n        rtl,\n        RenderItemComponent,\n        _listItemLabelStyle,\n        _iconContainerStyle,\n        listChildContainerStyle,\n        listChildLabelStyle,\n        listParentContainerStyle,\n        listParentLabelStyle,\n        _listItemContainerStyle,\n        _listItemLabelStyle,\n        customItemContainerStyle,\n        customItemLabelStyle,\n        _selectedItemContainerStyle,\n        _selectedItemLabelStyle,\n        _disabledItemContainerStyle,\n        _disabledItemLabelStyle,\n        _TickIconComponent,\n        _schema,\n        _value,\n        multiple,\n        itemProps,\n        categorySelectable,\n        onPressItem,\n        theme,\n        THEME\n    ]);\n\n    /**\n     * Set item position.\n     * @param {string|number|boolean} value\n     * @param {number} y\n     */\n    const setItemPosition = useCallback((value, y) => {\n        if (autoScroll && listMode === LIST_MODE.SCROLLVIEW)\n            itemPositionsRef.current[value] = y;\n    }, []);\n\n    /**\n     * The item separator.\n     * @returns {JSX.Element|null}\n     */\n    const ItemSeparatorComponent = useCallback(() => {\n        if (! itemSeparator)\n            return null;\n\n        return (\n            <View style={[\n                THEME.itemSeparator,\n                ...[itemSeparatorStyle].flat()\n            ]} />\n        );\n    }, [itemSeparator, itemSeparatorStyle, THEME]);\n\n    /**\n     * The search placeholder.\n     * @returns {string}\n     */\n     const _searchPlaceholder = useMemo(() => {\n        if (searchPlaceholder !== null)\n            return searchPlaceholder;\n\n        return _('SEARCH_PLACEHOLDER');\n    }, [searchPlaceholder, _]);\n\n    /**\n     * onChangeSearchText.\n     * @param {string} text\n     */\n    const _onChangeSearchText = useCallback((text) => {\n        setSearchText(text);\n        onChangeSearchText(text);\n    }, [onChangeSearchText]);\n\n    /**\n     * The close icon component.\n     * @returns {JSX.Element}\n     */\n    const _CloseIconComponent = useMemo(() => {\n        if (listMode !== LIST_MODE.MODAL)\n            return null;\n\n        let Component;\n\n        if (CloseIconComponent !== null)\n            Component = <CloseIconComponent style={_closeIconStyle} />;\n        else\n            Component = <Image source={ICON.CLOSE} style={_closeIconStyle} />;\n\n        return (\n            <TouchableOpacity style={_closeIconContainerStyle} onPress={onPressClose}>\n                {Component}\n            </TouchableOpacity>\n        );\n    }, [listMode, CloseIconComponent, _closeIconStyle, _closeIconContainerStyle, onPressClose, ICON]);\n\n    /**\n     * Indicates if the search component is visible.\n     * @returns {boolean}\n     */\n    const isSearchComponentVisible = useMemo(() => {\n        if (listMode === LIST_MODE.MODAL)\n            return true;\n\n        return searchable;\n    }, [listMode, searchable]);\n\n    /**\n     * modalTitleStyle.\n     * @returns {object}\n     */\n     const _modalTitleStyle = useMemo(() => ([\n        THEME.modalTitle,\n        ...[modalTitleStyle].flat(),\n        ...[textStyle].flat(),\n    ]), [textStyle, modalTitleStyle, THEME]);\n\n    /**\n     * The search component.\n     * @returns {JSX.Element}\n     */\n    const SearchComponent = useMemo(() => isSearchComponentVisible && (\n        <View style={_searchContainerStyle}>\n            {\n                searchable ? (\n                    <TextInput\n                        value={searchText}\n                        onChangeText={_onChangeSearchText}\n                        style={_searchTextInputStyle}\n                        placeholder={_searchPlaceholder}\n                        placeholderTextColor={searchPlaceholderTextColor}\n                        {...searchTextInputProps}\n                    />\n                ) : listMode === LIST_MODE.MODAL && (\n                    <View style={styles.flex}>\n                        <Text style={_modalTitleStyle}>\n                            {modalTitle}\n                        </Text>\n                    </View>\n                )\n            }\n            {_CloseIconComponent}\n        </View>\n    ), [\n        searchable,\n        listMode,\n        modalTitle,\n        isSearchComponentVisible,\n        _onChangeSearchText,\n        _modalTitleStyle,\n        _searchContainerStyle,\n        _searchTextInputStyle,\n        _searchPlaceholder,\n        searchPlaceholderTextColor,\n        searchText,\n        searchTextInputProps\n    ]);\n\n    /**\n     * The dropdown component wrapper.\n     * @returns {JSX.Element}\n     */\n    const DropDownComponentWrapper = useCallback((Component) => (\n        <View style={_dropDownContainerStyle}>\n            {SearchComponent}\n            {Component}\n        </View>\n    ), [_dropDownContainerStyle, SearchComponent]);\n\n    /**\n     * The ActivityIndicatorComponent.\n     * @returns {JSX.Element}\n     */\n    const _ActivityIndicatorComponent = useCallback(() => {\n        let Component;\n\n        if (ActivityIndicatorComponent !== null)\n            Component = ActivityIndicatorComponent;\n        else\n            Component = ActivityIndicator\n\n        return <Component size={activityIndicatorSize} color={activityIndicatorColor} />\n    }, [ActivityIndicatorComponent, activityIndicatorSize, activityIndicatorColor]);\n\n    /**\n     * The ListEmptyComponent.\n     * @returns {JSX.Element}\n     */\n    const _ListEmptyComponent = useCallback(() => {\n        let Component;\n        const message = _('NOTHING_TO_SHOW');\n\n        if (ListEmptyComponent !== null)\n            Component = ListEmptyComponent;\n        else\n            Component = ListEmpty;\n\n        return (\n            <Component\n                listMessageContainerStyle={_listMessageContainerStyle}\n                listMessageTextStyle={_listMessageTextStyle}\n                ActivityIndicatorComponent={_ActivityIndicatorComponent}\n                loading={loading}\n                message={message} />\n        );\n    }, [\n        _,\n        _listMessageContainerStyle,\n        _listMessageTextStyle,\n        ListEmptyComponent,\n        _ActivityIndicatorComponent,\n        loading\n    ]);\n\n    /**\n     * onRequestCloseModal.\n     */\n    const onRequestCloseModal = useCallback(() => {\n        setOpen(false);\n    }, []);\n    \n    /**\n     * The dropdown flatlist component.\n     * @returns {JSX.Element}\n     */\n    const DropDownFlatListComponent = useMemo(() => (\n        <FlatList\n            ref={flatListRef}\n            style={styles.flex}\n            contentContainerStyle={THEME.flatListContentContainer}\n            ListEmptyComponent={_ListEmptyComponent}\n            data={_items}\n            renderItem={__renderListItem}\n            keyExtractor={keyExtractor}\n            extraData={_value}\n            ItemSeparatorComponent={ItemSeparatorComponent}\n            stickyHeaderIndices={stickyHeaderIndices}\n            onScrollToIndexFailed={onScrollToIndexFailed}\n            {...flatListProps}\n        />\n    ), [\n        _items,\n        _value,\n        __renderListItem,\n        keyExtractor,\n        ItemSeparatorComponent,\n        flatListProps,\n        _ListEmptyComponent,\n        THEME\n    ]);\n\n    /**\n     * The dropdown scrollview component.\n     * @returns {JSX.Element}\n     */\n    const DropDownScrollViewComponent = useMemo(() => {\n        return (\n            <ScrollView ref={scrollViewRef} nestedScrollEnabled={true} stickyHeaderIndices={stickyHeaderIndices} {...scrollViewProps}>\n                {_items.map((item, index) => { \n                    return (\n                        <Fragment key={item[_itemKey]}>\n                            {index > 0 && ItemSeparatorComponent()}\n                            {__renderListItem({item})}\n                        </Fragment>\n                    );\n                })}\n                {_items.length === 0 && _ListEmptyComponent()}\n            </ScrollView>\n        );\n    }, [__renderListItem, _itemKey, scrollViewProps, _ListEmptyComponent]);\n\n    /**\n     * The dropdown modal component.\n     * @returns {JSX.Element}\n     */\n    const DropDownModalComponent = useMemo(() => (\n        <Modal visible={open} presentationStyle=\"fullScreen\" onRequestClose={onRequestCloseModal} {...modalProps}>\n            <SafeAreaView style={_modalContentContainerStyle}>\n                {SearchComponent}\n                {DropDownFlatListComponent}\n            </SafeAreaView>\n        </Modal>\n    ), [open, SearchComponent, _modalContentContainerStyle, modalProps]);\n\n    /**\n     * The dropdown component.\n     * @returns {JSX.Element}\n     */\n    const DropDownComponent = useMemo(() => {\n        switch (listMode) {\n            case LIST_MODE.FLATLIST: return DropDownComponentWrapper(DropDownFlatListComponent);\n            case LIST_MODE.SCROLLVIEW: return DropDownComponentWrapper(DropDownScrollViewComponent);\n            case LIST_MODE.MODAL: return DropDownModalComponent;\n            default: //\n        }\n    }, [\n        listMode,\n        DropDownFlatListComponent,\n        DropDownScrollViewComponent,\n        DropDownModalComponent,\n        DropDownComponentWrapper\n    ]);\n\n    /**\n     * The body of the dropdown component.\n     * @returns {JSX.Element}\n     */\n    const DropDownBodyComponent = useMemo(() => {\n        if (open || listMode === LIST_MODE.MODAL)\n            return DropDownComponent;\n        return null;\n    }, [open, listMode, DropDownComponent]);\n\n    /**\n     * onRef.\n     */\n    const onRef = useCallback((ref) => {\n        pickerRef.current = ref\n    }, []);\n\n    /**\n     * Pointer events.\n     * @returns {string}\n     */\n    const pointerEvents = useMemo(() => disabled ? \"none\" : \"auto\", [disabled]);\n\n    return (\n        <View style={_containerStyle} {...containerProps}>\n            <TouchableOpacity style={_style} onPress={__onPress} onLayout={__onLayout} {...props} ref={onRef} pointerEvents={pointerEvents} disabled={disabled} testID={testID}>\n                {_BodyComponent}\n                {_ArrowComponent}\n            </TouchableOpacity>\n            {DropDownBodyComponent}\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    flex: {\n        flex: 1\n    }\n});\n\nexport default memo(Picker);\n"]},"metadata":{},"sourceType":"module"}